<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Baby Gunner's Hundred Acre Wood Adventure</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Storybook fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Schoolbell&display=swap" rel="stylesheet">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --parchment: #fbf4e4;
      --parchment-dark: #e8dcc5;
      --ink: #2b1810;
      --honey: #f4a944;
      --honey-dark: #d48a1f;
      --pooh-red: #d32f2f;
      --forest-green: #5a7c3e;
      --baby-blue: #6ba3d4;
      --shadow: rgba(43, 24, 16, 0.18);
    }

    body {
      font-family: 'Playfair Display', 'Georgia', 'Garamond', serif;
      background:
        radial-gradient(circle at top, #f7e3b8 0, transparent 55%),
        radial-gradient(circle at bottom, #3a291c 0, #1e1410 55%);
      color: var(--ink);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      overflow-x: hidden;
      cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><text y="20" font-size="20">üçØ</text></svg>'), auto;
    }

    /* Stage around the book */
    .stage {
      max-width: 1320px;
      width: 100%;
      position: relative;
      z-index: 1;
    }

    .stage::before {
      /* soft spotlight behind the book */
      content: '';
      position: absolute;
      inset: -60px;
      margin: auto;
      max-width: 1100px;
      max-height: 700px;
      background: radial-gradient(circle at center, rgba(255, 255, 255, 0.18), transparent 70%);
      z-index: -1;
    }

    .table-shadow {
      position: absolute;
      bottom: -40px;
      left: 10%;
      right: 10%;
      height: 80px;
      background: radial-gradient(ellipse at center, rgba(0,0,0,0.35), transparent 70%);
      filter: blur(4px);
      z-index: 0;
    }

    /* Floating elements background */
    .ambient-scene {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 0;
      overflow: hidden;
    }

    .butterfly {
      position: absolute;
      font-size: 24px;
      animation: flutter 8s ease-in-out infinite;
      opacity: 0.6;
    }

    .butterfly:nth-child(1) { top: 16%; left: 8%; animation-delay: 0s; }
    .butterfly:nth-child(2) { top: 60%; right: 10%; animation-delay: 2s; }
    .butterfly:nth-child(3) { top: 38%; left: 72%; animation-delay: 4s; }

    @keyframes flutter {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      25% { transform: translate(30px, -20px) rotate(5deg); }
      50% { transform: translate(60px, 10px) rotate(-5deg); }
      75% { transform: translate(30px, 30px) rotate(3deg); }
    }

    .floating-leaf {
      position: absolute;
      font-size: 20px;
      animation: fall 15s linear infinite;
      opacity: 0.5;
    }

    .floating-leaf:nth-child(4) { left: 20%; animation-delay: 0s; }
    .floating-leaf:nth-child(5) { left: 50%; animation-delay: 5s; }
    .floating-leaf:nth-child(6) { left: 80%; animation-delay: 10s; }

    @keyframes fall {
      0% { transform: translateY(-100px) rotate(0deg); opacity: 0; }
      10% { opacity: 0.6; }
      90% { opacity: 0.6; }
      100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
    }

    .bee-ambient {
      position: absolute;
      font-size: 18px;
      animation: buzz 14s linear infinite;
      opacity: 0.85;
    }

    .bee-ambient:nth-child(7) { top: 28%; animation-delay: 1s; }
    .bee-ambient:nth-child(8) { top: 72%; animation-delay: 6s; }

    @keyframes buzz {
      0% { left: -60px; transform: translateY(0); }
      50% { transform: translateY(-26px); }
      100% { left: calc(100% + 60px); transform: translateY(0); }
    }

    /* Parallax clouds */
    .cloud-layer {
      position: fixed;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
    }

    .cloud {
      position: absolute;
      font-size: 44px;
      opacity: 0.25;
      animation: drift 60s linear infinite;
    }

    .cloud:nth-child(1) { top: 8%; animation-duration: 80s; }
    .cloud:nth-child(2) { top: 30%; animation-duration: 100s; animation-delay: -20s; }
    .cloud:nth-child(3) { top: 50%; animation-duration: 90s; animation-delay: -40s; }

    @keyframes drift {
      from { transform: translateX(-120px); }
      to { transform: translateX(100vw); }
    }

    /* Book */
    .book-container {
      width: 100%;
      perspective: 2500px;
      position: relative;
      z-index: 2;
    }

    .book {
      background: linear-gradient(135deg, #3b2a1a, #2b1d12);
      padding: 36px 32px 28px;
      border-radius: 18px;
      box-shadow:
        0 26px 60px rgba(0,0,0,0.75),
        0 0 0 2px rgba(255,255,255,0.05);
      position: relative;
      transform-style: preserve-3d;
    }

    /* Book spine decoration */
    .book::before {
      content: '';
      position: absolute;
      left: -14px;
      top: 9%;
      bottom: 12%;
      width: 12px;
      background: linear-gradient(180deg, #24160b, #4b3a26);
      border-radius: 6px 0 0 6px;
      box-shadow:
        inset -2px 0 5px rgba(0,0,0,0.6),
        4px 0 10px rgba(0,0,0,0.5);
    }

    /* Honey drips along top edge of book */
    .book::after {
      content: '';
      position: absolute;
      top: -8px;
      left: 16%;
      right: 18%;
      height: 18px;
      background: radial-gradient(circle at 20% 0, #ffd87c 0, #f4a944 40%, transparent 72%);
      opacity: 0.9;
      clip-path: polygon(0 40%, 10% 0, 20% 36%, 32% 10%, 42% 40%, 52% 6%, 64% 34%, 74% 8%, 86% 42%, 100% 12%, 100% 100%, 0 100%);
      pointer-events: none;
    }

    .book-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 18px;
      padding: 10px 18px;
      border-radius: 12px;
      background: linear-gradient(90deg, rgba(250, 237, 205, 0.28), rgba(238, 212, 170, 0.1));
      color: #fdf7ec;
      font-family: 'Schoolbell', system-ui, sans-serif;
      letter-spacing: 0.6px;
      border: 1px solid rgba(255,255,255,0.18);
    }

    .book-header-title {
      font-size: 1.35rem;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .book-header-title span:first-child {
      font-size: 0.8rem;
      text-transform: uppercase;
      opacity: 0.8;
    }

    .book-header-title span:last-child {
      font-size: 1.2rem;
    }

    .book-header-badge {
      padding: 6px 12px;
      border-radius: 999px;
      background: rgba(244,169,68,0.18);
      border: 1px dashed rgba(244,169,68,0.5);
      font-size: 0.85rem;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .pages-wrapper {
      display: flex;
      min-height: 560px;
      position: relative;
    }

    .page {
      flex: 1;
      background: var(--parchment);
      padding: 34px 32px 30px;
      border-radius: 10px;
      box-shadow:
        inset 0 0 30px rgba(139, 111, 71, 0.12),
        0 10px 26px var(--shadow);
      position: relative;
      overflow-y: auto;
      max-height: 72vh;
      display: none;
      transform-style: preserve-3d;
      background-image:
        repeating-linear-gradient(
          0deg,
          transparent,
          transparent 31px,
          rgba(139, 111, 71, 0.05) 31px,
          rgba(139, 111, 71, 0.05) 32px
        );
    }

    .page.active {
      display: block;
      animation: pageEnter 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .page.exiting {
      animation: pageExit 0.6s cubic-bezier(0.55, 0.085, 0.68, 0.53);
    }

    @keyframes pageEnter {
      0% {
        transform: rotateY(-90deg);
        opacity: 0;
        transform-origin: left center;
      }
      100% {
        transform: rotateY(0deg);
        opacity: 1;
        transform-origin: left center;
      }
    }

    @keyframes pageExit {
      0% {
        transform: rotateY(0deg);
        opacity: 1;
        transform-origin: left center;
      }
      100% {
        transform: rotateY(90deg);
        opacity: 0;
        transform-origin: left center;
      }
    }

    /* Decorative page vignette */
    .page::before {
      content: '';
      position: absolute;
      inset: 0;
      background:
        radial-gradient(circle at top, rgba(244, 169, 68, 0.08), transparent 60%),
        radial-gradient(circle at bottom, rgba(90,124,62,0.08), transparent 55%);
      pointer-events: none;
    }

    /* Chapter decorative headers */
    .chapter-header {
      text-align: center;
      margin-bottom: 26px;
      padding-bottom: 18px;
      border-bottom: 2px solid var(--honey);
      position: relative;
      z-index: 1;
    }

    .chapter-header::before,
    .chapter-header::after {
      content: 'üåø';
      position: absolute;
      bottom: -14px;
      font-size: 22px;
      animation: sway 3s ease-in-out infinite;
    }

    .chapter-header::before {
      left: 20px;
    }

    .chapter-header::after {
      right: 20px;
      animation-delay: 1.5s;
    }

    @keyframes sway {
      0%, 100% { transform: rotate(-5deg); }
      50% { transform: rotate(5deg); }
    }

    .chapter-number {
      font-size: 0.85rem;
      letter-spacing: 3px;
      color: var(--honey-dark);
      text-transform: uppercase;
      margin-bottom: 10px;
      animation: fadeInDown 0.8s ease;
    }

    .chapter-title {
      font-size: 1.9rem;
      color: var(--pooh-red);
      font-weight: 600;
      margin-bottom: 8px;
      font-style: italic;
      animation: fadeInUp 1s ease;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.18);
    }

    .chapter-subtitle {
      font-size: 0.95rem;
      color: var(--ink);
      opacity: 0.75;
      animation: fadeIn 1.2s ease;
      font-family: 'Schoolbell', system-ui, sans-serif;
    }

    @keyframes fadeInDown {
      from { opacity: 0; transform: translateY(-14px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(16px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .story-text {
      font-size: 1.05rem;
      line-height: 1.9;
      margin-bottom: 18px;
      text-indent: 2em;
      text-align: justify;
      animation: fadeIn 1.5s ease;
    }

    .story-text:first-of-type::first-letter {
      font-size: 3.4rem;
      float: left;
      line-height: 0.9;
      margin: 4px 10px 0 0;
      color: var(--pooh-red);
      font-weight: 700;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.22);
    }

    .illustration-box {
      border: 3px solid var(--honey);
      padding: 18px 22px;
      margin: 26px 0;
      background: #fffdf7;
      text-align: center;
      border-radius: 10px;
      position: relative;
      overflow: hidden;
      animation: slideIn 1s ease;
      box-shadow: 0 8px 18px rgba(0,0,0,0.08);
    }

    @keyframes slideIn {
      from { transform: scale(0.96); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    .illustration-box::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.35) 50%, transparent 70%);
      animation: shine 3.5s ease-in-out infinite;
    }

    @keyframes shine {
      0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
      100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
    }

    .bear-illustration {
      font-size: 78px;
      margin: 14px 0;
      animation: bounce 2.2s ease-in-out infinite;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    .party-details {
      background: #fffdf7;
      padding: 22px 22px 20px;
      border-radius: 10px;
      border: 2px solid var(--baby-blue);
      margin: 16px 0 10px;
      box-shadow: 0 8px 18px rgba(0,0,0,0.06);
      animation: fadeIn 1.8s ease;
    }

    .party-details h3 {
      color: var(--baby-blue);
      margin-bottom: 14px;
      text-align: center;
      font-weight: 600;
    }

    .detail-item {
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 8px 0;
      border-bottom: 1px solid var(--parchment-dark);
      transition: transform 0.25s ease, background-color 0.25s ease;
    }

    .detail-item:hover {
      transform: translateX(4px);
      background-color: rgba(239, 229, 208, 0.4);
    }

    .detail-item:last-child {
      border-bottom: none;
    }

    .detail-icon {
      font-size: 1.45rem;
      width: 40px;
      text-align: center;
      animation: pulse 2.2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.08); }
    }

    /* Game Canvas Styling */
    .game-container {
      background: #fffdf7;
      padding: 18px 20px 22px;
      border-radius: 10px;
      margin: 18px 0;
      border: 3px solid var(--honey);
      animation: fadeIn 2s ease;
      box-shadow: 0 10px 22px rgba(0,0,0,0.1);
    }

    #gameCanvas {
      display: block;
      width: 100%;
      max-width: 520px;
      height: 400px;
      margin: 0 auto;
      border: 2px solid var(--parchment-dark);
      border-radius: 6px;
      background: linear-gradient(#8cd3ff, #87CEEB 40%, #d1f3ff 75%);
      transition: box-shadow 0.3s ease, transform 0.2s ease;
    }

    #gameCanvas:hover {
      box-shadow: 0 0 20px rgba(244, 169, 68, 0.55);
      transform: translateY(-2px);
    }

    .game-stats {
      display: flex;
      justify-content: space-around;
      margin: 14px 0 10px;
      flex-wrap: wrap;
      gap: 10px;
    }

    .stat {
      text-align: center;
      padding: 8px 10px;
      background: var(--parchment);
      border-radius: 999px;
      min-width: 90px;
      transition: transform 0.25s ease, box-shadow 0.25s ease, background-color 0.25s ease;
      border: 1px solid rgba(0,0,0,0.03);
    }

    .stat:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 16px rgba(0,0,0,0.12);
      background-color: #fffaf0;
    }

    .stat-label {
      font-size: 0.72rem;
      color: var(--honey-dark);
      text-transform: uppercase;
      letter-spacing: 1px;
      font-family: 'Schoolbell', system-ui, sans-serif;
    }

    .stat-value {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--ink);
      margin-top: 2px;
    }

    .game-controls {
      display: flex;
      gap: 10px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 12px;
    }

    .btn {
      padding: 11px 22px;
      border: 2px solid var(--ink);
      background: var(--honey);
      color: var(--ink);
      font-family: inherit;
      font-size: 0.98rem;
      cursor: pointer;
      border-radius: 999px;
      transition: all 0.3s;
      font-weight: 600;
      position: relative;
      overflow: hidden;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      min-width: 120px;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(255,255,255,0.3);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }

    .btn:hover::before {
      width: 260px;
      height: 260px;
    }

    .btn:hover {
      background: var(--honey-dark);
      transform: translateY(-1px);
      box-shadow: 0 10px 18px var(--shadow);
    }

    .btn:active {
      transform: translateY(0);
      box-shadow: none;
    }

    .btn-secondary {
      background: var(--parchment-dark);
    }

    .btn-secondary:hover {
      background: #d9ccb0;
    }

    .difficulty-selector {
      display: flex;
      gap: 6px;
      justify-content: center;
      margin: 12px 0 6px;
      flex-wrap: wrap;
    }

    .difficulty-btn {
      padding: 7px 14px;
      border: 1px solid var(--ink);
      background: white;
      cursor: pointer;
      font-family: 'Schoolbell', system-ui, sans-serif;
      font-size: 0.84rem;
      transition: all 0.25s;
      border-radius: 999px;
    }

    .difficulty-btn.active {
      background: var(--forest-green);
      color: white;
      border-color: var(--forest-green);
      transform: scale(1.06);
      box-shadow: 0 6px 12px rgba(0,0,0,0.18);
    }

    /* Navigation with page curl effect */
    .book-nav {
      display: flex;
      justify-content: space-between;
      margin-top: 22px;
      padding-top: 18px;
      border-top: 2px solid var(--honey);
      align-items: center;
      gap: 16px;
    }

    .nav-btn {
      padding: 9px 18px;
      background: var(--pooh-red);
      color: white;
      border: none;
      border-radius: 999px;
      cursor: pointer;
      font-family: 'Schoolbell', system-ui, sans-serif;
      font-size: 0.98rem;
      transition: all 0.3s;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      position: relative;
    }

    .nav-btn::after {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 0;
      height: 0;
      border-style: solid;
      transition: all 0.3s;
    }

    .nav-btn.next:hover::after {
      width: 18px;
      height: 18px;
      border-width: 0 18px 18px 0;
      border-color: transparent rgba(255,255,255,0.35) transparent transparent;
    }

    .nav-btn:hover {
      background: #b02626;
      transform: translateY(-1px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.35);
    }

    .nav-btn:disabled {
      opacity: 0.35;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .page-indicator {
      text-align: center;
      color: var(--honey-dark);
      font-size: 0.92rem;
      animation: fadeIn 2s ease;
      font-family: 'Schoolbell', system-ui, sans-serif;
    }

    /* Registry Section */
    .registry-links {
      display: flex;
      gap: 15px;
      justify-content: center;
      margin: 20px 0;
      flex-wrap: wrap;
    }

    .registry-link {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 13px 22px;
      background: white;
      border: 2px solid var(--baby-blue);
      border-radius: 999px;
      text-decoration: none;
      color: var(--ink);
      transition: all 0.3s;
      font-weight: 600;
      font-size: 0.96rem;
    }

    .registry-link:hover {
      background: var(--baby-blue);
      color: white;
      transform: translateY(-2px) scale(1.03);
      box-shadow: 0 6px 20px var(--shadow);
    }

    /* Wishes Form */
    .wishes-form {
      background: #fffdf7;
      padding: 22px 22px 20px;
      border-radius: 10px;
      margin: 18px 0 6px;
      animation: fadeIn 2.2s ease;
      box-shadow: 0 8px 18px rgba(0,0,0,0.08);
      border: 2px solid rgba(244,169,68,0.35);
    }

    .form-group {
      margin-bottom: 18px;
    }

    .form-group label {
      display: block;
      margin-bottom: 6px;
      font-weight: 600;
      color: var(--honey-dark);
      font-size: 0.96rem;
    }

    .form-group input,
    .form-group textarea {
      width: 100%;
      padding: 11px 12px;
      border: 2px solid var(--parchment-dark);
      border-radius: 8px;
      font-family: inherit;
      font-size: 0.98rem;
      transition: border-color 0.3s, box-shadow 0.3s, background-color 0.3s;
      background-color: #fffdf8;
    }

    .form-group input:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: var(--honey);
      box-shadow: 0 0 10px rgba(244, 169, 68, 0.3);
      background-color: #fffaf0;
    }

    .form-group textarea {
      min-height: 120px;
      resize: vertical;
    }

    .divider {
      text-align: center;
      margin: 24px 0 10px;
      color: var(--honey);
      font-size: 1.4rem;
      animation: fadeIn 2.5s ease;
    }

    /* Sparkle effect on hover */
    .sparkle {
      position: relative;
    }

    .sparkle::after {
      content: '‚ú®';
      position: absolute;
      top: -10px;
      right: -10px;
      font-size: 1rem;
      opacity: 0;
      transition: opacity 0.3s, transform 0.3s;
    }

    .sparkle:hover::after {
      opacity: 1;
      animation: twinkle 0.6s ease;
    }

    @keyframes twinkle {
      0%, 100% { transform: scale(0); }
      50% { transform: scale(1.2); }
    }

    /* Mobile Responsive */
    @media (max-width: 900px) {
      .book {
        padding: 26px 18px 22px;
      }

      .book-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 6px;
      }

      .pages-wrapper {
        min-height: 0;
      }

      .page {
        padding: 26px 18px 22px;
        max-height: none;
      }

      .chapter-title {
        font-size: 1.55rem;
      }

      .story-text {
        font-size: 1rem;
        text-indent: 1.5em;
      }

      #gameCanvas {
        height: 300px;
      }

      .book-nav {
        flex-direction: column;
        align-items: stretch;
      }

      .nav-btn {
        justify-content: center;
        width: 100%;
      }

      body {
        cursor: auto;
      }
    }

    /* Mobile Touch Controls */
    .mobile-controls {
      display: none;
      gap: 10px;
      margin-top: 14px;
    }

    @media (max-width: 768px) {
      .mobile-controls {
        display: flex;
      }
    }

    .touch-btn {
      flex: 1;
      padding: 18px 10px;
      font-size: 1.1rem;
      background: var(--baby-blue);
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      touch-action: manipulation;
      transition: all 0.2s;
      font-family: 'Schoolbell', system-ui, sans-serif;
    }

    .touch-btn:active {
      background: #5a8ab8;
      transform: scale(0.96);
    }

    /* Game Overlay */
    .game-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(255, 255, 255, 0.96);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      text-align: center;
      border-radius: 6px;
      animation: fadeIn 0.5s ease;
    }

    .game-overlay.hidden {
      display: none;
    }

    .overlay-title {
      font-size: 1.8rem;
      color: var(--pooh-red);
      margin-bottom: 12px;
    }

    .overlay-text {
      font-size: 1rem;
      margin-bottom: 20px;
      max-width: 380px;
      line-height: 1.7;
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation: none !important;
        transition: none !important;
      }
    }
  </style>
</head>
<body>
  <!-- Ambient scene background -->
  <div class="ambient-scene">
    <div class="butterfly">ü¶ã</div>
    <div class="butterfly">ü¶ã</div>
    <div class="butterfly">ü¶ã</div>
    <div class="floating-leaf">üçÇ</div>
    <div class="floating-leaf">üçÇ</div>
    <div class="floating-leaf">üçÇ</div>
    <div class="bee-ambient">üêù</div>
    <div class="bee-ambient">üêù</div>
  </div>

  <!-- Parallax clouds -->
  <div class="cloud-layer">
    <div class="cloud">‚òÅÔ∏è</div>
    <div class="cloud">‚òÅÔ∏è</div>
    <div class="cloud">‚òÅÔ∏è</div>
  </div>

  <div class="stage">
    <div class="table-shadow"></div>

    <div class="book-container">
      <div class="book">
        <div class="book-header">
          <div class="book-header-title">
            <span>Hundred Acre Wood ‚Ä¢ Baby Shower Story</span>
            <span>Baby Gunner's Hundred Acre Wood Adventure</span>
          </div>
          <div class="book-header-badge">
            <span>üß∏</span>
            <span>Hosted with love by family & friends</span>
          </div>
        </div>

        <div class="pages-wrapper">
          <!-- Chapter 1: Welcome -->
          <div class="page active" data-chapter="1">
            <div class="chapter-header">
              <div class="chapter-number">Chapter One</div>
              <h1 class="chapter-title">A Special Day in the Hundred Acre Wood</h1>
              <div class="chapter-subtitle">An Invitation to Celebrate</div>
            </div>

            <p class="story-text">
              One fine spring day, in a corner of the Hundred Acre Wood where the sun shines warmly through the trees and the flowers bloom in cheerful colors, something wonderful was happening. All the forest friends were gathering, for there was to be a celebration unlike any other.
            </p>

            <p class="story-text">
              "What sort of celebration?" you might ask. Well, it was the very best sort‚Äîthe kind that welcomes a new little friend to the world. A baby boy named Gunner James was soon to arrive, and everyone in the Hundred Acre Wood wanted to share in the joy.
            </p>

            <div class="illustration-box sparkle">
              <div class="bear-illustration">üß∏üçØ</div>
              <p style="font-style: italic; color: var(--honey-dark); z-index: 1; position: relative;">
                "A baby!" said Pooh. "How perfectly wonderful. We shall need honey for such an occasion."
              </p>
            </div>

            <p class="story-text">
              Winnie the Pooh, being a Bear of Very Little Brain but a Very Big Heart, knew that the most important thing for any celebration was honey. And not just a little honey, but lots and lots of it. After all, welcoming Baby Gunner was a Very Important Matter.
            </p>

            <div class="party-details">
              <h3>You're Invited to Baby Gunner's Baby Shower! üéâ</h3>
              <div class="detail-item">
                <div class="detail-icon">üë∂</div>
                <div>
                  <strong>Celebrating:</strong> Gunner James<br>
                  <em style="color: var(--baby-blue);">It's a boy!</em>
                </div>
              </div>
              <div class="detail-item">
                <div class="detail-icon">üìÖ</div>
                <div><strong>When:</strong> Saturday, June 15, 2024</div>
              </div>
              <div class="detail-item">
                <div class="detail-icon">üïê</div>
                <div><strong>Time:</strong> 2:00 PM - 4:00 PM</div>
              </div>
              <div class="detail-item">
                <div class="detail-icon">üìç</div>
                <div><strong>Where:</strong> 123 Honey Tree Lane</div>
              </div>
            </div>

            <p class="story-text">
              "But first," thought Pooh, looking up at his honey pots on the high shelf, "we'll need to gather more honey. Won't you help?"
            </p>

            <div class="divider">üå≥ ‚úø üêù ‚úø üå≥</div>
          </div>

          <!-- Chapter 2: The Game -->
          <div class="page" data-chapter="2">
            <div class="chapter-header">
              <div class="chapter-number">Chapter Two</div>
              <h1 class="chapter-title">Pooh's Honey Gathering Adventure</h1>
              <div class="chapter-subtitle">A Game of Skill and Sweetness</div>
            </div>

            <p class="story-text">
              Pooh stood beneath the tall honey tree, his favorite barrel in his arms. Above him, golden drops of honey began to fall, glistening in the sunlight like liquid sunshine. But there was a problem‚Äîthe bees were buzzing about too!
            </p>

            <p class="story-text">
              "Oh bother," said Pooh. "I must catch the honey but avoid the bees. This requires concentration. And perhaps some help from a friend like you."
            </p>

            <div class="game-container sparkle">
              <div style="position: relative;">
                <canvas id="gameCanvas"></canvas>
                <div class="game-overlay" id="gameOverlay">
                  <div class="overlay-title">üçØ Ready to Help Pooh? üçØ</div>
                  <p class="overlay-text">
                    Move Pooh left and right to catch honey drops in the barrel. Avoid the bees‚Äîthey'll sting!
                    <br><br>
                    <strong>Desktop:</strong> Use arrow keys or A/D<br>
                    <strong>Mobile:</strong> Use the buttons below or drag Pooh
                  </p>
                  <button class="btn sparkle" onclick="startGame()">Start Adventure</button>
                </div>
              </div>

              <div class="game-stats">
                <div class="stat">
                  <div class="stat-label">Score</div>
                  <div class="stat-value" id="score">0</div>
                </div>
                <div class="stat">
                  <div class="stat-label">Honey</div>
                  <div class="stat-value" id="honeyCount">0</div>
                </div>
                <div class="stat">
                  <div class="stat-label">Lives</div>
                  <div class="stat-value" id="lives">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
                </div>
                <div class="stat">
                  <div class="stat-label">Time</div>
                  <div class="stat-value" id="timer">60</div>
                </div>
              </div>

              <div class="difficulty-selector">
                <button class="difficulty-btn active" onclick="setDifficulty('easy', this)">Gentle Drizzle</button>
                <button class="difficulty-btn" onclick="setDifficulty('normal', this)">Honey Shower</button>
                <button class="difficulty-btn" onclick="setDifficulty('hard', this)">Bee Storm</button>
              </div>

              <div class="game-controls">
                <button class="btn sparkle" id="startBtn" onclick="startGame()">‚ñ∂ Start</button>
                <button class="btn btn-secondary" id="pauseBtn" onclick="pauseGame()" disabled>‚è∏ Pause</button>
                <button class="btn btn-secondary" onclick="resetGame()">üîÑ Reset</button>
              </div>

              <div class="mobile-controls">
                <button class="touch-btn" id="leftBtn">‚¨ÖÔ∏è Left</button>
                <button class="touch-btn" id="rightBtn">Right ‚û°Ô∏è</button>
              </div>
            </div>

            <p class="story-text" style="text-indent: 0; text-align: center; font-style: italic; margin-top: 20px;">
              "That was splendid!" said Pooh when the barrel was full. "Now we have plenty of honey for Baby Gunner's celebration!"
            </p>
          </div>

          <!-- Chapter 3: Registry & Details -->
          <div class="page" data-chapter="3">
            <div class="chapter-header">
              <div class="chapter-number">Chapter Three</div>
              <h1 class="chapter-title">Gifts from the Heart</h1>
              <div class="chapter-subtitle">Preparing for Baby Gunner</div>
            </div>

            <p class="story-text">
              With the honey safely gathered, Pooh and his friends began to think about what else a baby bear‚Äîor rather, a baby boy‚Äîmight need. Piglet suggested soft blankets. Eeyore thought practical things might be useful. Tigger bounced excitedly about toys.
            </p>

            <p class="story-text">
              "The most important thing," said Pooh wisely, "is that Baby Gunner knows he is loved. But if you'd like to bring a gift, his parents have made a list of things that might be helpful."
            </p>

            <div class="illustration-box sparkle">
              <div style="font-size: 3rem; margin: 18px 0;">üéÅ</div>
              <h3 style="color: var(--baby-blue); margin-bottom: 14px;">Baby Gunner's Registry</h3>
              <p style="margin-bottom: 18px;">Your presence is the greatest present, but if you'd like to help welcome our little one:</p>

              <div class="registry-links">
                <a href="https://www.target.com/gift-registry/" target="_blank" class="registry-link sparkle">
                  <span style="font-size: 1.5rem;">üéØ</span>
                  <span>Target Registry</span>
                </a>
                <a href="https://www.amazon.com/baby-reg/" target="_blank" class="registry-link sparkle">
                  <span style="font-size: 1.5rem;">üì¶</span>
                  <span>Amazon Registry</span>
                </a>
              </div>
            </div>

            <div class="party-details">
              <h3>Nursery Theme & Details üß∏</h3>
              <div class="detail-item">
                <div class="detail-icon">üé®</div>
                <div><strong>Theme:</strong> Hundred Acre Wood / Woodland Bears</div>
              </div>
              <div class="detail-item">
                <div class="detail-icon">üíô</div>
                <div><strong>Nursery Colors:</strong> Adventure Blue, Honey Gold, Forest Green</div>
              </div>
              <div class="detail-item">
                <div class="detail-icon">üß∏</div>
                <div><strong>First Toy:</strong> Classic Teddy Bear Friend</div>
              </div>
              <div class="detail-item">
                <div class="detail-icon">üìö</div>
                <div><strong>Favorite Book:</strong> "The House at Pooh Corner"</div>
              </div>
            </div>

            <p class="story-text">
              And so the preparations continued, with each friend contributing something special to welcome the newest member of their woodland family.
            </p>

            <div class="divider">üå≥ ‚úø üêù ‚úø üå≥</div>
          </div>

          <!-- Chapter 4: Wishes -->
          <div class="page" data-chapter="4">
            <div class="chapter-header">
              <div class="chapter-number">Chapter Four</div>
              <h1 class="chapter-title">Wishes for Baby Gunner</h1>
              <div class="chapter-subtitle">Words of Love and Wisdom</div>
            </div>

            <p class="story-text">
              As the sun began to set over the Hundred Acre Wood, casting long golden shadows through the trees, Pooh and his friends gathered to share their wishes for Baby Gunner. Each friend had something special to say.
            </p>

            <div class="illustration-box sparkle">
              <p style="font-style: italic; line-height: 1.8; text-align: left; z-index: 1; position: relative;">
                <strong>Pooh said:</strong> "May you always have honey when you need it, and friends when you want them."
                <br><br>
                <strong>Piglet squeaked:</strong> "May you be brave, even when you feel small."
                <br><br>
                <strong>Eeyore added:</strong> "May you find sunshine, even on cloudy days."
                <br><br>
                <strong>Tigger bounced:</strong> "May you have the most wonderful things happen to you, and the most wonderful adventures!"
              </p>
            </div>

            <p class="story-text">
              Now it's your turn! Leave your wishes, advice, or memories for Baby Gunner and his family.
            </p>

            <div class="wishes-form sparkle">
              <h3 style="text-align: center; color: var(--honey-dark); margin-bottom: 18px;">
                Share Your Wishes <span style="animation: bounce 2s ease-in-out infinite; display: inline-block;">üçØ</span>
              </h3>
              <form id="wishesForm">
                <div class="form-group">
                  <label for="guestName">Your Name:</label>
                  <input type="text" id="guestName" placeholder="Enter your name" required>
                </div>
                <div class="form-group">
                  <label for="wishMessage">Your Wish or Advice for Baby Gunner:</label>
                  <textarea id="wishMessage" placeholder="Share your wisdom, hopes, or a favorite memory..." required></textarea>
                </div>
                <button type="submit" class="btn sparkle" style="width: 100%;">üìù Add to Guestbook</button>
              </form>
            </div>

            <div id="wishesDisplay" style="margin-top: 24px;">
              <!-- Wishes will appear here -->
            </div>

            <p class="story-text" style="text-align: center; font-style: italic; margin-top: 32px;">
              And so, with honey gathered, gifts prepared, and wishes shared, everyone in the Hundred Acre Wood looked forward to the day they would meet Baby Gunner. For as Pooh always said, "How lucky I am to have something that makes saying goodbye so hard." But in this case, they were all ready to say hello.
            </p>

            <div style="text-align: center; margin-top: 26px; padding: 18px; background: #fffdf7; border-radius: 10px; animation: fadeIn 3s ease; box-shadow: 0 8px 18px rgba(0,0,0,0.08);">
              <div style="font-size: 3rem; margin-bottom: 8px; animation: pulse 2s ease-in-out infinite;">üíô</div>
              <div style="font-size: 1.25rem; color: var(--pooh-red); font-weight: 700;">
                Welcome to the world, Baby Gunner!
              </div>
              <div style="margin-top: 8px; font-style: italic;">
                With love from all your family and friends
              </div>
            </div>
          </div>
        </div>

        <!-- Navigation -->
        <div class="book-nav">
          <button class="nav-btn prev sparkle" id="prevBtn" onclick="previousPage()">
            ‚Üê Previous Chapter
          </button>
          <div class="page-indicator" id="pageIndicator">Chapter 1 of 4</div>
          <button class="nav-btn next sparkle" id="nextBtn" onclick="nextPage()">
            Next Chapter ‚Üí
          </button>
        </div>
      </div>
    </div>
  </div>

  Yep, fair ‚Äî visually it leveled up, but I did nick a couple of things about the game feel / rendering.

The big regression under the hood is that I moved the sky to CSS and forgot to fully clear/redraw the canvas each frame, which can make drops/bees smear and feel ‚Äúoff‚Äù. Let‚Äôs fix the game rendering while keeping the new aesthetics.

Below is a drop-in replacement <script> that you can use with the last HTML I sent. Just replace your existing <script>...</script> block with this one.

<script>
  // Game Variables
  let canvas, ctx;
  let gameState = 'idle';
  let score = 0;
  let honeyCollected = 0;
  let lives = 3;
  let timeLeft = 60;
  let difficulty = 'easy';
  let gameInterval, timerInterval;

  let player = { x: 0, y: 0, width: 60, height: 90, speed: 5 };
  let drops = [];
  let bees = [];

  const difficulties = {
    easy:   { dropSpeed: 2, beeSpeed: 1.5, dropFreq: 1500, beeFreq: 3000 },
    normal: { dropSpeed: 3, beeSpeed: 2.4, dropFreq: 1000, beeFreq: 2000 },
    hard:   { dropSpeed: 4, beeSpeed: 3.3, dropFreq: 700,  beeFreq: 1200 }
  };

  // Navigation
  let currentChapter = 1;
  const totalChapters = 4;

  function nextPage() {
    if (currentChapter < totalChapters) {
      const currentPage = document.querySelector('[data-chapter="' + currentChapter + '"]');
      currentPage.classList.add('exiting');

      setTimeout(() => {
        currentPage.classList.remove('active', 'exiting');
        currentChapter++;
        document.querySelector('[data-chapter="' + currentChapter + '"]').classList.add('active');
        updateNavigation();
      }, 600);
    }
  }

  function previousPage() {
    if (currentChapter > 1) {
      const currentPage = document.querySelector('[data-chapter="' + currentChapter + '"]');
      currentPage.classList.add('exiting');

      setTimeout(() => {
        currentPage.classList.remove('active', 'exiting');
        currentChapter--;
        document.querySelector('[data-chapter="' + currentChapter + '"]').classList.add('active');
        updateNavigation();
      }, 600);
    }
  }

  function updateNavigation() {
    document.getElementById('prevBtn').disabled = currentChapter === 1;
    document.getElementById('nextBtn').disabled = currentChapter === totalChapters;
    document.getElementById('pageIndicator').textContent = 'Chapter ' + currentChapter + ' of ' + totalChapters;
  }

  // Initialize Game
  function initGame() {
    canvas = document.getElementById('gameCanvas');
    if (!canvas) return;
    ctx = canvas.getContext('2d');

    const container = canvas.parentElement;
    canvas.width = Math.max(220, Math.min(520, container.offsetWidth - 40));
    canvas.height = 400;

    player.x = canvas.width / 2 - player.width / 2;
    player.y = canvas.height - player.height - 18;

    document.addEventListener('keydown', handleKeyDown);
    document.addEventListener('keyup', handleKeyUp);

    let isDragging = false;

    canvas.addEventListener('touchstart', (e) => {
      isDragging = true;
      handleTouch(e);
    }, { passive: false });

    canvas.addEventListener('touchmove', (e) => {
      if (isDragging) handleTouch(e);
    }, { passive: false });

    canvas.addEventListener('touchend', () => { isDragging = false; });

    canvas.addEventListener('mousedown', () => { isDragging = true; });
    canvas.addEventListener('mousemove', (e) => {
      if (isDragging && gameState === 'playing') {
        const rect = canvas.getBoundingClientRect();
        player.x = e.clientX - rect.left - player.width / 2;
        player.x = Math.max(0, Math.min(canvas.width - player.width, player.x));
      }
    });
    canvas.addEventListener('mouseup', () => { isDragging = false; });
    canvas.addEventListener('mouseleave', () => { isDragging = false; });

    const leftBtn = document.getElementById('leftBtn');
    const rightBtn = document.getElementById('rightBtn');

    leftBtn.addEventListener('touchstart', () => { keys.left = true; }, { passive: true });
    leftBtn.addEventListener('touchend', () => { keys.left = false; }, { passive: true });

    rightBtn.addEventListener('touchstart', () => { keys.right = true; }, { passive: true });
    rightBtn.addEventListener('touchend', () => { keys.right = false; }, { passive: true });

    drawGame();
  }

  function handleTouch(e) {
    if (gameState !== 'playing') return;
    e.preventDefault();
    const rect = canvas.getBoundingClientRect();
    const touch = e.touches[0];
    player.x = touch.clientX - rect.left - player.width / 2;
    player.x = Math.max(0, Math.min(canvas.width - player.width, player.x));
  }

  let keys = { left: false, right: false };

  function handleKeyDown(e) {
    if (e.key === 'ArrowLeft' || e.key === 'a' || e.key === 'A') keys.left = true;
    if (e.key === 'ArrowRight' || e.key === 'd' || e.key === 'D') keys.right = true;
  }

  function handleKeyUp(e) {
    if (e.key === 'ArrowLeft' || e.key === 'a' || e.key === 'A') keys.left = false;
    if (e.key === 'ArrowRight' || e.key === 'd' || e.key === 'D') keys.right = false;
  }

  function setDifficulty(level, btn) {
    difficulty = level;
    document.querySelectorAll('.difficulty-btn').forEach(b => b.classList.remove('active'));
    if (btn) btn.classList.add('active');
  }

  function startGame() {
    if (gameState === 'playing') return;

    const overlay = document.getElementById('gameOverlay');
    overlay.classList.add('hidden');

    gameState = 'playing';
    score = 0;
    honeyCollected = 0;
    lives = 3;
    timeLeft = 60;
    drops = [];
    bees = [];

    updateDisplay();

    document.getElementById('startBtn').disabled = true;
    const pauseBtn = document.getElementById('pauseBtn');
    pauseBtn.disabled = false;
    pauseBtn.textContent = '‚è∏ Pause';

    gameInterval = setInterval(gameLoop, 1000 / 60);

    timerInterval = setInterval(() => {
      timeLeft--;
      document.getElementById('timer').textContent = timeLeft;
      if (timeLeft <= 0) {
        endGame();
      }
    }, 1000);

    spawnDrops();
    spawnBees();
  }

  function pauseGame() {
    const pauseBtn = document.getElementById('pauseBtn');
    if (gameState === 'playing') {
      gameState = 'paused';
      clearInterval(gameInterval);
      clearInterval(timerInterval);
      pauseBtn.textContent = '‚ñ∂ Resume';
    } else if (gameState === 'paused') {
      gameState = 'playing';
      gameInterval = setInterval(gameLoop, 1000 / 60);
      timerInterval = setInterval(() => {
        timeLeft--;
        document.getElementById('timer').textContent = timeLeft;
        if (timeLeft <= 0) endGame();
      }, 1000);
      pauseBtn.textContent = '‚è∏ Pause';
    }
  }

  function resetGame() {
    gameState = 'idle';
    clearInterval(gameInterval);
    clearInterval(timerInterval);

    score = 0;
    honeyCollected = 0;
    lives = 3;
    timeLeft = 60;
    drops = [];
    bees = [];

    updateDisplay();
    const overlay = document.getElementById('gameOverlay');
    overlay.classList.remove('hidden');
    overlay.innerHTML = `
      <div class="overlay-title">üçØ Ready to Help Pooh? üçØ</div>
      <p class="overlay-text">
        Move Pooh left and right to catch honey drops in the barrel. Avoid the bees‚Äîthey'll sting!
        <br><br>
        <strong>Desktop:</strong> Use arrow keys or A/D<br>
        <strong>Mobile:</strong> Use the buttons below or drag Pooh
      </p>
      <button class="btn sparkle" onclick="startGame()">Start Adventure</button>
    `;

    document.getElementById('startBtn').disabled = false;
    const pauseBtn = document.getElementById('pauseBtn');
    pauseBtn.disabled = true;
    pauseBtn.textContent = '‚è∏ Pause';

    drawGame();
  }

  function endGame() {
    gameState = 'over';
    clearInterval(gameInterval);
    clearInterval(timerInterval);

    const overlay = document.getElementById('gameOverlay');
    overlay.classList.remove('hidden');
    overlay.innerHTML = `
      <div class="overlay-title">üçØ Well Done! üçØ</div>
      <p class="overlay-text">
        Pooh thanks you for helping gather honey!<br><br>
        <strong>Final Score:</strong> ${score}<br>
        <strong>Honey Collected:</strong> ${honeyCollected}
      </p>
      <button class="btn sparkle" onclick="resetGame(); startGame();">Play Again</button>
      <button class="btn btn-secondary" onclick="resetGame();" style="margin-top: 10px;">Back to Start</button>
    `;

    document.getElementById('startBtn').disabled = false;
    const pauseBtn = document.getElementById('pauseBtn');
    pauseBtn.disabled = true;
    pauseBtn.textContent = '‚è∏ Pause';
  }

  function spawnDrops() {
    if (gameState !== 'playing') return;

    drops.push({
      x: Math.random() * (canvas.width - 20),
      y: -20,
      width: 20,
      height: 30,
      speed: difficulties[difficulty].dropSpeed
    });

    setTimeout(spawnDrops, difficulties[difficulty].dropFreq);
  }

  function spawnBees() {
    if (gameState !== 'playing') return;

    bees.push({
      x: Math.random() * (canvas.width - 30),
      y: -30,
      width: 30,
      height: 25,
      speed: difficulties[difficulty].beeSpeed
    });

    setTimeout(spawnBees, difficulties[difficulty].beeFreq);
  }

  function gameLoop() {
    if (gameState !== 'playing') return;

    if (keys.left) {
      player.x -= player.speed;
    }
    if (keys.right) {
      player.x += player.speed;
    }
    player.x = Math.max(0, Math.min(canvas.width - player.width, player.x));

    drops.forEach((drop, index) => {
      drop.y += drop.speed;

      if (checkCollision(drop, player)) {
        score += 10;
        honeyCollected++;
        drops.splice(index, 1);
        updateDisplay();
      } else if (drop.y > canvas.height) {
        drops.splice(index, 1);
      }
    });

    bees.forEach((bee, index) => {
      bee.y += bee.speed;

      if (checkCollision(bee, player)) {
        lives--;
        bees.splice(index, 1);
        updateDisplay();

        if (lives <= 0) {
          endGame();
        }
      } else if (bee.y > canvas.height) {
        bees.splice(index, 1);
      }
    });

    drawGame();
  }

  function checkCollision(obj1, obj2) {
    return obj1.x < obj2.x + obj2.width &&
           obj1.x + obj1.width > obj2.x &&
           obj1.y < obj2.y + obj2.height &&
           obj1.y + obj1.height > obj2.y;
  }

  function drawGame() {
    if (!ctx) return;

    // Clear everything first so drops/bees don't smear
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Sky gradient background
    const skyGradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
    skyGradient.addColorStop(0, '#8cd3ff');
    skyGradient.addColorStop(0.45, '#87CEEB');
    skyGradient.addColorStop(0.9, '#d1f3ff');
    ctx.fillStyle = skyGradient;
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    // Ground
    ctx.fillStyle = '#6fa45a';
    ctx.fillRect(0, canvas.height - 40, canvas.width, 40);

    // Simple tree silhouettes in background
    ctx.fillStyle = 'rgba(74, 94, 62, 0.7)';
    for (let i = 0; i < 4; i++) {
      const baseX = (canvas.width / 4) * i + 20;
      ctx.fillRect(baseX, canvas.height - 70, 20, 30);
      ctx.beginPath();
      ctx.moveTo(baseX - 20, canvas.height - 70);
      ctx.lineTo(baseX + 10, canvas.height - 120);
      ctx.lineTo(baseX + 40, canvas.height - 70);
      ctx.closePath();
      ctx.fill();
    }

    // Pooh's ears
    ctx.fillStyle = '#f4c16e';
    ctx.beginPath();
    ctx.arc(player.x + 18, player.y + 10, 8, 0, Math.PI * 2);
    ctx.fill();
    ctx.beginPath();
    ctx.arc(player.x + 42, player.y + 10, 8, 0, Math.PI * 2);
    ctx.fill();

    // Pooh's head
    ctx.beginPath();
    ctx.arc(player.x + 30, player.y + 26, 20, 0, Math.PI * 2);
    ctx.fill();

    // Face
    ctx.fillStyle = '#2b1810';
    ctx.beginPath();
    ctx.arc(player.x + 23, player.y + 22, 3, 0, Math.PI * 2);
    ctx.fill();
    ctx.beginPath();
    ctx.arc(player.x + 37, player.y + 22, 3, 0, Math.PI * 2);
    ctx.fill();

    ctx.beginPath();
    ctx.arc(player.x + 30, player.y + 28, 3, 0, Math.PI * 2);
    ctx.fill();

    ctx.beginPath();
    ctx.arc(player.x + 30, player.y + 33, 7, 0, Math.PI);
    ctx.strokeStyle = '#2b1810';
    ctx.lineWidth = 1.5;
    ctx.stroke();

    // Body / shirt
    ctx.fillStyle = '#f4c16e';
    ctx.fillRect(player.x + 14, player.y + 40, 32, 30);

    ctx.fillStyle = '#d32f2f';
    ctx.fillRect(player.x + 12, player.y + 40, 36, 18);

    // Arms
    ctx.fillStyle = '#f4c16e';
    ctx.fillRect(player.x + 6, player.y + 44, 10, 14);
    ctx.fillRect(player.x + 44, player.y + 44, 10, 14);

    // Barrel
    ctx.fillStyle = '#8b6f47';
    ctx.beginPath();
    ctx.moveTo(player.x, player.y + 60);
    ctx.lineTo(player.x + 60, player.y + 60);
    ctx.quadraticCurveTo(player.x + 56, player.y + 96, player.x + 30, player.y + 100);
    ctx.quadraticCurveTo(player.x + 4, player.y + 96, player.x, player.y + 60);
    ctx.closePath();
    ctx.fill();

    ctx.strokeStyle = '#5a4a3a';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Barrel bands
    ctx.beginPath();
    ctx.moveTo(player.x + 4, player.y + 72);
    ctx.lineTo(player.x + 56, player.y + 72);
    ctx.moveTo(player.x + 4, player.y + 88);
    ctx.lineTo(player.x + 56, player.y + 88);
    ctx.stroke();

    // Honey drops
    drops.forEach(drop => {
      ctx.fillStyle = '#f4a944';
      ctx.beginPath();
      ctx.ellipse(drop.x + 10, drop.y + 15, 10, 15, 0, 0, Math.PI * 2);
      ctx.fill();

      ctx.fillStyle = '#fff5d6';
      ctx.beginPath();
      ctx.ellipse(drop.x + 8, drop.y + 10, 3, 5, 0, 0, Math.PI * 2);
      ctx.fill();
    });

    // Bees
    bees.forEach(bee => {
      // Body
      ctx.fillStyle = '#f4a944';
      ctx.fillRect(bee.x + 5, bee.y + 5, 22, 16);

      // Stripes
      ctx.fillStyle = '#2b1810';
      ctx.fillRect(bee.x + 8, bee.y + 5, 3, 16);
      ctx.fillRect(bee.x + 15, bee.y + 5, 3, 16);
      ctx.fillRect(bee.x + 20, bee.y + 5, 3, 16);

      // Wings
      ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
      ctx.beginPath();
      ctx.ellipse(bee.x + 10, bee.y + 2, 7, 5, -0.3, 0, Math.PI * 2);
      ctx.fill();
      ctx.beginPath();
      ctx.ellipse(bee.x + 22, bee.y + 2, 7, 5, 0.3, 0, Math.PI * 2);
      ctx.fill();
    });
  }

  function updateDisplay() {
    document.getElementById('score').textContent = score;
    document.getElementById('honeyCount').textContent = honeyCollected;
    document.getElementById('timer').textContent = timeLeft;

    let heartsDisplay = '';
    for (let i = 0; i < lives; i++) {
      heartsDisplay += '‚ù§Ô∏è';
    }
    document.getElementById('lives').textContent = heartsDisplay || 'üíî';
  }

  // Wishes Form
  document.addEventListener('DOMContentLoaded', () => {
    const wishesForm = document.getElementById('wishesForm');
    if (wishesForm) {
      wishesForm.addEventListener('submit', function(e) {
        e.preventDefault();

        const name = document.getElementById('guestName').value.trim();
        const message = document.getElementById('wishMessage').value.trim();

        if (!name || !message) return;

        const wishElement = document.createElement('div');
        wishElement.style.cssText = 'background: #fffdf7; padding: 18px 18px 16px; border-radius: 10px; margin-bottom: 16px; border-left: 4px solid var(--honey); box-shadow: 0 6px 14px rgba(0,0,0,0.06); animation: fadeIn 0.5s ease;';
        wishElement.innerHTML = `
          <div style="font-weight: 600; color: var(--honey-dark); margin-bottom: 6px;">
            ${name}
          </div>
          <div style="font-style: italic; line-height: 1.7;">
            "${message}"
          </div>
        `;

        const display = document.getElementById('wishesDisplay');
        display.prepend(wishElement);

        document.getElementById('guestName').value = '';
        document.getElementById('wishMessage').value = '';

        alert('Thank you for your lovely wishes! üíô');
      });
    }
  });

  // Initialize on load
  window.addEventListener('load', () => {
    initGame();
    updateNavigation();
  });

  window.addEventListener('resize', () => {
    if (canvas && ctx) {
      const container = canvas.parentElement;
      const oldWidth = canvas.width;
      canvas.width = Math.max(220, Math.min(520, container.offsetWidth - 40));
      player.x = (player.x / oldWidth) * canvas.width;
      drawGame();
    }
  });
</script>

</body>
</html>