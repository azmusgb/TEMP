<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Hundred Acre Celebration: Welcoming Baby Gunner</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
    /* ===== CSS VARIABLES & RESET ===== */
    :root {
        --pooh-yellow: #FFC42B;
        --pooh-red: #D62E2E;
        --honey-gold: #E6B86A;
        --soft-blue: #B0D0E3;
        --sage-green: #9CAD90;
        --cream: #FFF7EC;
        --text-dark: #43302a;
        --storybook-brown: #8B4513;
        --page-yellow: #FEF9E7;
        --deep-ink: #2f1a0e;
        --shadow-soft: 0 20px 60px rgba(15, 23, 42, 0.16);
        --radius-lg: 24px;
        --radius-pill: 999px;
        --transition-smooth: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        --font-heading: 'Playfair Display', serif;
        --font-body: 'Lato', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    *, *::before, *::after {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    html {
        scroll-behavior: smooth;
        scroll-padding-top: 100px;
    }

    body {
        font-family: var(--font-body);
        background:
            radial-gradient(circle at top, #FFFDF6 0%, #F7EAD5 40%, #E2D1B5 80%),
            linear-gradient(180deg, #f4ebdd 0%, #e2cfb5 60%, #d6c2a8 100%);
        color: var(--text-dark);
        -webkit-font-smoothing: antialiased;
        line-height: 1.7;
        overflow-x: hidden;
    }

    /* Reduced motion aesthetics */
    body.reduce-motion,
    body.reduce-motion * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition: none !important;
        scroll-behavior: auto !important;
    }

    /* ===== ACCESSIBILITY ===== */
    .skip-link {
        position: absolute;
        top: -100px;
        left: 16px;
        background: #fff;
        color: var(--storybook-brown);
        padding: 10px 14px;
        border-radius: 12px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        transition: top 0.3s ease;
        z-index: 1100;
        font-weight: 700;
    }

    .skip-link:focus-visible {
        top: 16px;
        outline: 3px solid var(--pooh-red);
        outline-offset: 4px;
    }

    :focus-visible {
        outline: 3px solid var(--pooh-red);
        outline-offset: 4px;
        box-shadow: 0 0 0 4px rgba(255, 196, 43, 0.45);
    }

    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
    }

    /* ===== LOADING SCREEN ===== */
    .loading-screen {
        position: fixed;
        inset: 0;
        background: radial-gradient(circle at top, #FFEAA7 0, #FBBF24 35%, #D97706 70%, #7C2D12 100%);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 10002;
        transition: opacity 0.6s ease, visibility 0.6s ease;
    }

    .loading-screen.hidden {
        opacity: 0;
        visibility: hidden;
    }

    .honey-spinner {
        width: 120px;
        height: 120px;
        position: relative;
        margin-bottom: 25px;
    }

    .loading-jar {
        width: 80px;
        height: 96px;
        background: var(--honey-gold);
        border-radius: 16px 16px 10px 10px;
        position: relative;
        overflow: hidden;
        margin: 0 auto;
        box-shadow: 0 8px 20px rgba(0,0,0,0.25);
        border: 3px solid #FFF7EC;
    }

    .loading-honey-fill {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 0%;
        background: linear-gradient(to top, #FFC42B, #FACC15);
        animation: fill-honey 2.1s ease-in-out infinite;
    }

    @keyframes fill-honey {
        0%, 100% { height: 25%; }
        50% { height: 92%; }
    }

    .loading-text {
        font-family: var(--font-heading);
        font-size: 2.2rem;
        color: #FFF;
        text-align: center;
        text-shadow: 0 3px 18px rgba(0,0,0,0.4);
        margin-bottom: 8px;
        letter-spacing: 0.04em;
    }

    .loading-subtext {
        font-size: 1rem;
        color: #FFF;
        text-align: center;
        opacity: 0.9;
        max-width: 480px;
        line-height: 1.6;
    }

    .loading-dots {
        display: flex;
        gap: 10px;
        margin-top: 16px;
    }

    .loading-dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: white;
        animation: dot-bounce 1.3s ease-in-out infinite both;
    }

    .loading-dot:nth-child(1) { animation-delay: -0.28s; }
    .loading-dot:nth-child(2) { animation-delay: -0.14s; }

    @keyframes dot-bounce {
        0%, 80%, 100% { transform: scale(0); }
        40% { transform: scale(1); }
    }

    .loading-hint {
        margin-top: 18px;
        font-size: 0.9rem;
        color: rgba(255,255,255,0.9);
    }

    /* ===== IMPROVED NAVIGATION ===== */
    .main-nav {
        position: sticky;
        top: 0;
        z-index: 1000;
        background: rgba(255, 250, 241, 0.96);
        backdrop-filter: blur(12px);
        border-bottom: 1px solid rgba(139, 69, 19, 0.14);
        box-shadow: 0 8px 24px rgba(15, 23, 42, 0.12);
        border-radius: 0 0 18px 18px;
        transition: all 0.3s ease;
    }

    .nav-container {
        max-width: 1240px;
        margin: 0 auto;
        padding: 10px 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .nav-brand {
        display: flex;
        flex-direction: column;
        gap: 2px;
        transition: all 0.3s ease;
    }

    .nav-title {
        font-family: var(--font-heading);
        font-size: 1.6rem;
        color: var(--storybook-brown);
        text-decoration: none;
        letter-spacing: 0.03em;
        transition: all 0.3s ease;
    }

    .nav-subtitle {
        font-family: var(--font-heading);
        font-style: italic;
        font-size: 1.05rem;
        color: var(--pooh-red);
        transition: all 0.3s ease;
    }

    .nav-menu {
        display: flex;
        gap: 6px;
        align-items: center;
    }

    .nav-item {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 8px 14px;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 999px;
        text-decoration: none;
        color: var(--storybook-brown);
        font-weight: 700;
        transition: all 0.22s ease;
        border: 1px solid rgba(148, 81, 35, 0.14);
        box-shadow: 0 2px 6px rgba(0,0,0,0.06);
        font-size: 0.9rem;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
    }

    .nav-item::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.6), transparent);
        transition: left 0.5s ease;
    }

    .nav-item:hover::before {
        left: 100%;
    }

    .nav-item i {
        font-size: 0.95rem;
        transition: transform 0.3s ease;
    }

    .nav-item:hover i {
        transform: scale(1.1);
    }

    .nav-item:hover,
    .nav-item.active {
        background: linear-gradient(135deg, #fdf2cc, #f3d28a);
        color: #5b3a1b;
        border-color: rgba(139, 69, 19, 0.28);
        box-shadow: 0 8px 18px rgba(149, 92, 24, 0.22);
        transform: translateY(-1px);
    }

    .nav-toggle {
        display: none;
        background: var(--pooh-yellow);
        border: 2px solid var(--storybook-brown);
        border-radius: 12px;
        width: 44px;
        height: 44px;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.25s ease;
        position: relative;
        overflow: hidden;
    }

    .nav-toggle::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle at center, rgba(255,255,255,0.3) 0%, transparent 70%);
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .nav-toggle:hover::before {
        opacity: 1;
    }

    .nav-toggle:hover {
        background: var(--pooh-red);
        transform: scale(1.06);
    }

    .nav-toggle i {
        color: white;
        font-size: 1.3rem;
        transition: transform 0.3s ease;
    }

    .nav-toggle:hover i {
        transform: rotate(90deg);
    }

    /* ===== STORYBOOK COVER ===== */
    .storybook-cover {
        position: fixed;
        inset: 0;
        background: radial-gradient(circle at top, #fff8e8 0%, #f4d9a6 45%, #e4b96f 100%);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 10001;
        transition: transform 1.1s cubic-bezier(0.77, 0, 0.175, 1), opacity 0.8s ease;
        transform-style: preserve-3d;
        box-shadow: 0 18px 90px rgba(0,0,0,0.25);
        overflow: hidden;
        padding: 20px;
    }

    .storybook-cover.closed {
        transform: rotateY(88deg) scale(0.78);
        opacity: 0;
        pointer-events: none;
    }

    .cover-decoration {
        position: absolute;
        inset: 8%;
        border-radius: 26px;
        border: 2px solid rgba(255,255,255,0.65);
        box-shadow:
            inset 0 0 0 1px rgba(0,0,0,0.08),
            0 0 60px rgba(0,0,0,0.2);
        background: radial-gradient(circle at center, rgba(255,255,255,0.14) 0, transparent 60%);
    }

    .cover-title {
        font-family: var(--font-heading);
        font-size: clamp(2.8rem, 6vw, 4.4rem);
        color: #4a2f1e;
        text-align: center;
        margin-bottom: 0.5rem;
        text-shadow: 0 7px 28px rgba(0,0,0,0.22);
        position: relative;
        z-index: 2;
        line-height: 1.08;
        letter-spacing: 0.05em;
        text-transform: uppercase;
    }

    .cover-subtitle {
        font-family: var(--font-heading);
        font-style: italic;
        font-size: clamp(1.9rem, 3.6vw, 2.7rem);
        color: #6f492d;
        text-align: center;
        margin-bottom: 2.1rem;
        opacity: 0.95;
        position: relative;
        z-index: 2;
    }

    .open-book-btn {
        padding: 13px 34px;
        font-size: 1.1rem;
        background: linear-gradient(135deg, #fef6e4, #f3dfb2);
        color: #6a3d24;
        border: none;
        border-radius: 999px;
        cursor: pointer;
        font-weight: 700;
        box-shadow: 0 10px 26px rgba(0,0,0,0.25);
        transition: all 0.3s ease;
        font-family: var(--font-heading);
        position: relative;
        z-index: 2;
        overflow: hidden;
        letter-spacing: 0.09em;
        text-transform: uppercase;
    }

    .open-book-btn::after {
        content: '';
        position: absolute;
        inset: 0;
        background: radial-gradient(circle at top left, rgba(255,255,255,0.7), transparent 55%);
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .open-book-btn:hover {
        transform: translateY(-2px) scale(1.02);
        box-shadow: 0 14px 32px rgba(0,0,0,0.3);
    }

    .open-book-btn:hover::after {
        opacity: 1;
    }

    /* ===== BACKGROUND ELEMENTS ===== */
    .honeycomb-bg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image:
            radial-gradient(circle at 25% 25%, rgba(255, 196, 43, 0.06) 0%, transparent 55%),
            radial-gradient(circle at 75% 75%, rgba(230, 184, 106, 0.08) 0%, transparent 55%),
            url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120"><path d="M60,0 L90,30 L90,90 L60,120 L30,90 L30,30 Z" fill="%23E6B86A" opacity="0.04"/></svg>');
        background-size: auto, auto, 120px;
        z-index: -3;
        pointer-events: none;
    }

    .golden-light {
        position: fixed;
        inset: 0;
        background: radial-gradient(ellipse at center, rgba(255, 215, 0, 0.18) 0%, rgba(255, 215, 0, 0) 70%);
        z-index: -1;
        animation: light-pulse 16s ease-in-out infinite;
        pointer-events: none;
    }

    @keyframes light-pulse {
        0%, 100% { opacity: 0.12; }
        50% { opacity: 0.26; }
    }

    .enchanted-forest {
        position: fixed;
        inset: 0;
        z-index: -2;
        overflow: hidden;
        opacity: 0.33;
        pointer-events: none;
    }

    .tree {
        position: absolute;
        bottom: -40px;
        width: 180px;
        background: linear-gradient(to right, #8B5A2B, #A0522D);
        border-radius: 20px 20px 0 0;
        transform-origin: bottom;
        box-shadow: 0 0 18px rgba(0,0,0,0.25);
    }

    .floating-leaf {
        position: absolute;
        width: 40px;
        height: 40px;
        background: radial-gradient(ellipse at center, #BBF7D0, #22C55E);
        border-radius: 50% 0 50% 50%;
        transform: rotate(45deg);
        animation: leaf-fall 15s linear infinite;
        opacity: 0.7;
        filter: drop-shadow(0 5px 5px rgba(0,0,0,0.18));
    }

    @keyframes leaf-fall {
        0% {
            transform: translateY(-100vh) rotate(0deg);
            opacity: 0;
        }
        10% { opacity: 0.9; }
        90% { opacity: 0.7; }
        100% {
            transform: translateY(100vh) rotate(360deg);
            opacity: 0;
        }
    }

    /* ===== MAIN CONTENT ===== */
    .storybook-shell {
        max-width: 1180px;
        margin: 0 auto;
        padding: 40px 20px 60px;
    }

    .storybook {
        position: relative;
        width: 100%;
        opacity: 0;
        transition: opacity 1.2s ease;
        background: rgba(255, 252, 244, 0.98);
        border-radius: 28px;
        box-shadow: var(--shadow-soft);
        padding: 34px 32px 40px;
        border: 1px solid rgba(148, 81, 35, 0.22);
        overflow: hidden;
    }

    .storybook::before {
        content: '';
        position: absolute;
        inset: 16px;
        background-image: linear-gradient(
            90deg,
            rgba(255,255,255,0.5) 0,
            rgba(230, 215, 190, 0.45) 50%,
            rgba(255,255,255,0.5) 100%
        );
        opacity: 0.12;
        pointer-events: none;
        mix-blend-mode: multiply;
    }

    .storybook::after {
        content: '';
        position: absolute;
        top: 16px;
        bottom: 16px;
        left: 50%;
        width: 2px;
        background: linear-gradient(
            to bottom,
            rgba(160, 120, 80, 0.0),
            rgba(160, 120, 80, 0.33),
            rgba(160, 120, 80, 0.0)
        );
        opacity: 0.7;
    }

    .storybook.visible {
        opacity: 1;
    }

    .storybook-inner {
        max-width: 880px;
        margin: 0 auto;
        position: relative;
        z-index: 1;
    }

    .storybook-header {
        text-align: center;
        margin-bottom: 18px;
    }

    .storybook-heading {
        font-family: var(--font-heading);
        font-size: 2.35rem;
        color: var(--storybook-brown);
        margin-bottom: 4px;
        letter-spacing: 0.03em;
    }

    .storybook-subheading {
        font-family: var(--font-heading);
        font-style: italic;
        font-size: 1.5rem;
        color: var(--pooh-red);
    }

    /* ===== CONTENT SECTIONS ===== */
    .content-section {
        background: var(--page-yellow);
        width: 100%;
        margin: 30px 0;
        border-radius: 22px;
        box-shadow: 0 10px 30px rgba(15, 23, 42, 0.14);
        position: relative;
        overflow: hidden;
        padding: 26px 24px 30px;
        transform-style: preserve-3d;
        transition: opacity 0.6s ease, transform 0.6s ease, box-shadow 0.25s ease;
        opacity: 0;
        transform: translateY(32px);
        border: 1px solid rgba(148, 81, 35, 0.18);
    }

    .content-section.visible {
        opacity: 1;
        transform: translateY(0);
    }

    .content-section:hover {
        box-shadow: 0 14px 40px rgba(15, 23, 42, 0.18);
    }

    .content-section::before {
        content: '';
        position: absolute;
        inset: 0;
        background-image:
            radial-gradient(circle at 5% 5%, rgba(252, 211, 77, 0.15) 0, transparent 45%),
            radial-gradient(circle at 95% 95%, rgba(252, 211, 77, 0.12) 0, transparent 45%);
        opacity: 0.8;
        pointer-events: none;
    }

    .content-section-inner {
        position: relative;
        z-index: 1;
    }

    .section-number {
        position: absolute;
        top: 16px;
        right: 22px;
        font-family: var(--font-heading);
        font-size: 1.4rem;
        color: rgba(67, 48, 42, 0.6);
    }

    .section-header {
        text-align: center;
        margin-bottom: 18px;
    }

    .story-title {
        font-family: var(--font-heading);
        font-size: 2.1rem;
        color: var(--pooh-red);
        position: relative;
    }

    .story-title::after {
        content: 'üçØ';
        display: block;
        font-size: 1.5rem;
        margin-top: 4px;
        color: var(--pooh-yellow);
    }

    /* ===== IMPROVED MINI-GAME ===== */
    .honey-adventure-game {
        background: rgba(255, 255, 255, 0.97);
        border-radius: 20px;
        padding: 22px 20px 20px;
        margin: 24px 0;
        text-align: center;
        border: 2px dashed rgba(250, 204, 21, 0.9);
        position: relative;
        overflow: hidden;
        box-shadow: 0 10px 28px rgba(15, 23, 42, 0.16);
    }

    .game-header {
        text-align: center;
        margin-bottom: 18px;
        position: relative;
    }

    .game-header h1 {
        color: var(--pooh-red);
        text-shadow: 1px 2px 0 #ffccbc;
        font-size: 2rem;
        margin-bottom: 6px;
        animation: bounce 2.4s infinite;
        font-family: var(--font-heading);
        letter-spacing: 0.03em;
    }

    .game-header p {
        font-size: 0.96rem;
        color: var(--storybook-brown);
    }

    @keyframes bounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-6px); }
    }

    .game-container {
        position: relative;
        width: 100%;
        height: 280px;
        background: linear-gradient(to bottom, #a5d6a7, #81c784);
        border-radius: 16px;
        margin: 16px 0;
        overflow: hidden;
        border: 3px solid var(--storybook-brown);
        box-shadow: 0 8px 24px rgba(0,0,0,0.15);
        touch-action: none;
    }

    #gameCanvas {
        display: block;
        width: 100%;
        height: 100%;
        touch-action: none;
    }

    .game-controls {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin: 16px 0;
        flex-wrap: wrap;
    }

    .game-btn {
        padding: 10px 22px;
        background: linear-gradient(135deg, #ffb74d, #f57c00);
        border: none;
        border-radius: 50px;
        color: white;
        font-weight: bold;
        cursor: pointer;
        box-shadow: 0 4px 0 #e65100;
        transition: all 0.2s;
        font-size: 0.96rem;
        position: relative;
        overflow: hidden;
    }

    .game-btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
        transition: left 0.5s ease;
    }

    .game-btn:hover::before {
        left: 100%;
    }

    .game-btn:hover:not(:disabled) {
        transform: translateY(-1px);
        box-shadow: 0 6px 0 #e65100;
    }

    .game-btn:active:not(:disabled) {
        transform: translateY(1px);
        box-shadow: 0 2px 0 #e65100;
    }

    .game-btn:disabled {
        background: #bdbdbd;
        box-shadow: 0 4px 0 #757575;
        cursor: not-allowed;
    }

    .mobile-controls {
        display: none;
        justify-content: space-between;
        margin: 16px 0;
        gap: 10px;
    }

    .mobile-control-btn {
        flex: 1;
        padding: 12px;
        background: linear-gradient(135deg, #ffb74d, #f57c00);
        border: none;
        border-radius: 12px;
        color: white;
        font-weight: bold;
        font-size: 1.2rem;
        box-shadow: 0 4px 0 #e65100;
        touch-action: manipulation;
        user-select: none;
    }

    .mobile-control-btn:active {
        transform: translateY(2px);
        box-shadow: 0 2px 0 #e65100;
    }

    .stats-container {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 10px;
        margin: 16px 0;
    }

    .stat {
        background: linear-gradient(135deg, #ffecb3 0%, #ffcc80 100%);
        padding: 10px 10px;
        border-radius: 14px;
        font-size: 1.02em;
        font-weight: bold;
        box-shadow: 0 4px 10px rgba(0,0,0,0.12);
        border: 2px solid #ffb300;
    }

    .message-box {
        background: #fff8e1;
        border: 3px dashed #ffb300;
        border-radius: 18px;
        padding: 14px 16px;
        margin: 16px 0 10px;
        min-height: 70px;
        font-size: 1.15em;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        position: relative;
        animation: pulse 2.2s infinite;
        font-family: var(--font-heading);
    }

    @keyframes pulse {
        0%, 100% { border-color: #ffb300; }
        50% { border-color: #ff9800; }
    }

    .pooh-face {
        font-size: 1.7em;
        margin-right: 8px;
    }

    .achievements {
        margin-top: 14px;
        padding: 12px 10px 8px;
        background: #ffecb3;
        border-radius: 14px;
        border: 2px solid #ffb300;
        text-align: left;
        font-size: 0.92rem;
    }

    .achievements h3 {
        margin-bottom: 4px;
        font-size: 0.98rem;
    }

    .achievement {
        display: inline-block;
        background: #ffcc80;
        padding: 6px 12px;
        margin: 3px;
        border-radius: 999px;
        font-size: 0.82em;
    }

    .hidden {
        display: none;
    }

    /* ===== STORYTELLING ELEMENTS ===== */
    .story-section {
        margin: 16px 0;
        padding: 20px 20px 18px;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 16px;
        border-left: 4px solid var(--pooh-yellow);
        position: relative;
    }

    .story-section::before {
        content: '‚Äú';
        position: absolute;
        top: -24px;
        left: 14px;
        font-size: 3.6rem;
        color: rgba(250, 204, 21, 0.4);
        font-family: 'Playfair Display', serif;
    }

    .story-text {
        font-size: 1.04rem;
        line-height: 1.8;
        color: var(--text-dark);
    }

    .woodland-sign {
        position: relative;
        background: var(--storybook-brown);
        color: white;
        padding: 11px 20px;
        border-radius: 12px;
        margin: 10px auto 16px;
        max-width: 320px;
        text-align: center;
        font-family: var(--font-heading);
        font-size: 1.35rem;
        box-shadow: 0 8px 22px rgba(55, 31, 14, 0.5);
        transform: rotate(-1deg);
        border: 3px solid rgba(250, 204, 21, 0.9);
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .woodland-sign:hover {
        transform: scale(1.05) rotate(-1deg);
        box-shadow: 0 15px 30px rgba(139, 69, 19, 0.4);
    }

    .woodland-sign::before {
        content: '';
        position: absolute;
        bottom: -22px;
        left: 50%;
        transform: translateX(-50%);
        width: 0;
        height: 0;
        border-left: 14px solid transparent;
        border-right: 14px solid transparent;
        border-top: 20px solid var(--storybook-brown);
    }

    .woodland-sign::after {
        content: '';
        position: absolute;
        bottom: -28px;
        left: 50%;
        transform: translateX(-50%);
        width: 26px;
        height: 26px;
        background: #5D4037;
        border-radius: 999px;
    }

    /* ===== CHARACTER SPOTLIGHTS ===== */
    .character-spotlight {
        display: flex;
        align-items: center;
        gap: 18px;
        margin: 18px 0;
        padding: 16px 18px;
        background: radial-gradient(circle at top left, rgba(255, 244, 214, 0.96), #ffffff 60%);
        border-radius: 18px;
        border: 1px solid rgba(148, 81, 35, 0.2);
        box-shadow: 0 8px 22px rgba(15, 23, 42, 0.12);
        transition: all 0.25s ease;
        cursor: pointer;
        position: relative;
        overflow: hidden;
    }

    .character-spotlight::before {
        content: '';
        position: absolute;
        inset: 0;
        background: radial-gradient(circle at top right, rgba(255, 223, 138, 0.2), transparent 60%);
        opacity: 0;
        transition: opacity 0.25s ease;
    }

    .character-spotlight:hover {
        transform: translateY(-3px);
        box-shadow: 0 14px 32px rgba(15, 23, 42, 0.18);
    }

    .character-spotlight:hover::before {
        opacity: 1;
    }

    .character-illustration {
        width: 105px;
        height: 105px;
        border-radius: 999px;
        overflow: hidden;
        flex-shrink: 0;
        box-shadow: 0 12px 26px rgba(0, 0, 0, 0.22);
        border: 4px solid var(--pooh-yellow);
        background: var(--page-yellow);
        display: flex;
        align-items: center;
        justify-content: center;
        transition: transform 0.25s ease;
    }

    .character-spotlight:hover .character-illustration {
        transform: scale(1.04);
    }

    .character-spotlight-content {
        display: flex;
        flex-direction: column;
        gap: 6px;
    }

    .character-quote {
        font-family: var(--font-heading);
        font-size: 1.35rem;
        color: var(--storybook-brown);
        line-height: 1.5;
        text-shadow: 0 1px 0 rgba(255,255,255,0.7);
    }

    .character-name {
        font-family: var(--font-heading);
        font-weight: 700;
        color: var(--pooh-red);
        font-size: 1rem;
    }

    /* ===== INVITATION DETAILS ===== */
    .invitation-details {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 16px;
        margin: 22px 0 10px;
    }

    .detail-card {
        background: #FFFFFF;
        padding: 16px 16px 14px;
        border-radius: 16px;
        box-shadow: 0 6px 16px rgba(15, 23, 42, 0.12);
        border-top: 4px solid var(--pooh-yellow);
        transition: all 0.22s ease;
        position: relative;
        overflow: hidden;
    }

    .detail-card::before {
        content: '';
        position: absolute;
        inset: 0;
        background: linear-gradient(135deg, rgba(255, 249, 219, 0.8), transparent);
        opacity: 0;
        transition: opacity 0.22s ease;
    }

    .detail-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 22px rgba(15, 23, 42, 0.18);
    }

    .detail-card:hover::before {
        opacity: 1;
    }

    .detail-title {
        font-family: var(--font-heading);
        color: var(--pooh-red);
        font-size: 1.1rem;
        margin-bottom: 6px;
    }

    .detail-content {
        font-size: 0.96rem;
        color: var(--storybook-brown);
        line-height: 1.7;
    }

    /* ===== RSVP FORM ===== */
    .rsvp-form {
        background: rgba(255, 255, 255, 0.96);
        border-radius: 16px;
        padding: 18px;
        border: 1px solid rgba(148, 81, 35, 0.18);
        box-shadow: 0 12px 26px rgba(15, 23, 42, 0.12);
        margin-top: 12px;
    }

    .storybook-form {
        display: flex;
        flex-direction: column;
        gap: 14px;
    }

    .form-field {
        display: flex;
        flex-direction: column;
        gap: 6px;
    }

    .field-label {
        font-weight: 800;
        color: var(--deep-ink);
        font-size: 0.96rem;
        display: inline-flex;
        align-items: center;
        gap: 6px;
    }

    .storybook-form .form-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 12px;
    }

    .storybook-form input,
    .storybook-form select,
    .storybook-form textarea {
        width: 100%;
        padding: 11px 13px;
        border-radius: 12px;
        border: 2px solid rgba(148, 81, 35, 0.18);
        background: #fff;
        font-family: inherit;
        font-size: 0.98rem;
        color: var(--text-dark);
        transition: border-color 0.18s ease, box-shadow 0.18s ease, background 0.18s ease;
    }

    .storybook-form input:focus,
    .storybook-form select:focus,
    .storybook-form textarea:focus {
        border-color: var(--pooh-red);
        box-shadow: 0 0 0 3px rgba(214, 46, 46, 0.18);
        outline: none;
        background: #fffdf7;
    }

    .storybook-form button {
        align-self: flex-start;
    }

    .form-status {
        margin-top: 4px;
        font-weight: 700;
        font-size: 0.95rem;
        color: var(--deep-ink);
    }

    /* ===== BUTTONS ===== */
    .magical-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
        padding: 11px 26px;
        background: radial-gradient(circle at top, #ffe9a8 0, #f7c948 40%, #d69e2e 100%);
        color: var(--deep-ink);
        border: none;
        border-radius: 50px;
        font-family: 'Playfair Display', serif;
        font-size: 1.02rem;
        font-weight: 700;
        cursor: pointer;
        box-shadow: 0 8px 20px rgba(15, 23, 42, 0.32);
        transition: all 0.24s ease;
        text-decoration: none;
        position: relative;
        overflow: hidden;
    }

    .magical-btn::after {
        content: '';
        position: absolute;
        inset: 0;
        background: radial-gradient(circle at top left, rgba(255,255,255,0.7), transparent 55%);
        mix-blend-mode: screen;
        opacity: 0;
        transition: opacity 0.24s ease;
    }

    .magical-btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 12px 26px rgba(15, 23, 42, 0.4);
    }

    .magical-btn:hover::after {
        opacity: 1;
    }

    /* ===== FLOATING ACTION BUTTONS ===== */
    .fab-container {
        position: fixed;
        bottom: 92px;
        right: 22px;
        z-index: 1000;
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .fab {
        width: 52px;
        height: 52px;
        border-radius: 50%;
        background: radial-gradient(circle at top, #ffe9a8 0, #f7c948 40%, #d69e2e 100%);
        border: none;
        color: white;
        font-size: 1.25rem;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 10px 22px rgba(15, 23, 42, 0.35);
        transition: all 0.22s ease;
        position: relative;
        overflow: hidden;
    }

    .fab::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle at center, rgba(255,255,255,0.3) 0%, transparent 70%);
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .fab:hover::before {
        opacity: 1;
    }

    .fab:hover {
        background: radial-gradient(circle at top, #ffdba0 0, #f59e0b 40%, #c05621 100%);
        transform: translateY(-2px) scale(1.04);
    }

    /* ===== MUSIC CONTROLS ===== */
    .music-controls {
        position: fixed;
        bottom: 92px;
        left: 22px;
        z-index: 1000;
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .music-btn,
    .accessibility-btn {
        width: 52px;
        height: 52px;
        border-radius: 50%;
        background: radial-gradient(circle at top, #ffe9a8 0, #f7c948 40%, #d69e2e 100%);
        border: none;
        color: white;
        font-size: 1.2rem;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 10px 22px rgba(15, 23, 42, 0.35);
        transition: all 0.22s ease;
        position: relative;
        overflow: hidden;
    }

    .music-btn::before,
    .accessibility-btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle at center, rgba(255,255,255,0.3) 0%, transparent 70%);
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .music-btn:hover::before,
    .accessibility-btn:hover::before {
        opacity: 1;
    }

    .music-btn:hover,
    .accessibility-btn:hover {
        background: radial-gradient(circle at top, #ffdba0 0, #f59e0b 40%, #c05621 100%);
        transform: translateY(-2px) scale(1.04);
    }

    /* ===== READING PROGRESS ===== */
    .reading-progress {
        position: fixed;
        top: 0;
        left: 0;
        width: 0%;
        height: 4px;
        background: linear-gradient(90deg, var(--pooh-yellow), var(--pooh-red));
        z-index: 1000;
        transition: width 0.25s ease;
    }

    /* ===== CHARACTER MODAL ===== */
    .character-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(15, 23, 42, 0.78);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 10000;
        opacity: 0;
        visibility: hidden;
        transition: all 0.4s ease;
    }

    .character-modal.active {
        opacity: 1;
        visibility: visible;
    }

    .modal-content {
        background: #FEF9E7;
        width: 90%;
        max-width: 620px;
        border-radius: 20px;
        padding: 24px 24px 22px;
        position: relative;
        transform: scale(0.86);
        transition: transform 0.4s ease;
        box-shadow: 0 28px 80px rgba(0,0,0,0.55);
    }

    .character-modal.active .modal-content {
        transform: scale(1);
    }

    .close-modal {
        position: absolute;
        top: 12px;
        right: 14px;
        background: none;
        border: none;
        font-size: 1.4rem;
        cursor: pointer;
        color: var(--storybook-brown);
        transition: color 0.22s ease, transform 0.18s ease;
    }

    .close-modal:hover {
        color: var(--pooh-red);
        transform: scale(1.08);
    }

    .modal-character {
        display: flex;
        align-items: center;
        gap: 16px;
        margin-bottom: 16px;
    }

    .modal-character-icon {
        width: 76px;
        height: 76px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
        color: white;
        flex-shrink: 0;
    }

    .modal-character-name {
        font-family: 'Playfair Display', serif;
        font-size: 1.8rem;
        color: var(--pooh-red);
    }

    .modal-character-quote {
        font-family: var(--font-heading);
        font-size: 1.6rem;
        color: var(--storybook-brown);
        margin-bottom: 14px;
        text-align: center;
    }

    .modal-character-bio {
        font-size: 0.98rem;
        color: var(--storybook-brown);
        line-height: 1.8;
    }

    .pooh-icon { background: var(--pooh-yellow); }
    .piglet-icon { background: #F8BBD9; }
    .tigger-icon { background: #FF8C42; }
    .eeyore-icon { background: #9CA3AF; }
    .rabbit-icon { background: var(--sage-green); }
    .owl-icon { background: #8B7355; }
    .kanga-icon { background: #FAD7A0; }

    /* ===== FOOTER ===== */
    .footer {
        text-align: center;
        padding: 24px 10px 6px;
        margin-top: 34px;
        font-family: var(--font-heading);
        font-size: 1.35rem;
        color: var(--storybook-brown);
        border-top: 1px dashed rgba(250, 204, 21, 0.9);
    }

    .footer p:last-child {
        font-size: 1.05rem;
        margin-top: 4px;
        opacity: 0.9;
    }

    /* ===== WINNIE THE POOH THEME ENHANCEMENTS ===== */
    .honey-drip {
        position: fixed;
        width: 14px;
        height: 14px;
        border-radius: 999px;
        background: radial-gradient(circle at top, #FFFBEB 0%, #FACC15 40%, #E6B86A 100%);
        box-shadow: 0 5px 18px rgba(180, 83, 9, 0.65);
        animation: honey-drip-fall 3s ease-in forwards;
        pointer-events: none;
        z-index: 100;
    }

    @keyframes honey-drip-fall {
        0% { transform: translate(0, 0) scale(0.9); opacity: 1; }
        80% { transform: translate(0, 140px) scale(1); opacity: 1; }
        100% { transform: translate(0, 160px) scale(0.8); opacity: 0; }
    }

    .bouncing-tigger {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 76px;
        height: 76px;
        background: radial-gradient(circle at top, #ffd1a1 0, #FF8C42 45%, #c05621 100%);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.9rem;
        color: white;
        z-index: 900;
        animation: bounce 2s infinite;
        cursor: pointer;
        box-shadow: 0 12px 26px rgba(0,0,0,0.25);
    }

    .hunny-pot-collection {
        display: flex;
        justify-content: center;
        gap: 14px;
        margin: 12px 0 8px;
        flex-wrap: wrap;
    }

    .hunny-pot {
        width: 58px;
        height: 78px;
        background: var(--honey-gold);
        border-radius: 30px 30px 16px 16px;
        position: relative;
        cursor: pointer;
        transition: transform 0.22s ease, box-shadow 0.22s ease;
        box-shadow: 0 6px 16px rgba(15, 23, 42, 0.35);
    }

    .hunny-pot:hover {
        transform: translateY(-4px) rotate(3deg);
        box-shadow: 0 10px 22px rgba(15, 23, 42, 0.4);
    }

    .hunny-pot::before {
        content: '';
        position: absolute;
        top: 9px;
        left: 9px;
        right: 9px;
        bottom: 14px;
        background: linear-gradient(to bottom, #FFC42B, #E6B86A);
        border-radius: 22px 22px 12px 12px;
    }

    .hunny-pot::after {
        content: 'HUNNY';
        position: absolute;
        bottom: 6px;
        left: 0;
        right: 0;
        text-align: center;
        font-family: var(--font-heading);
        color: var(--storybook-brown);
        font-size: 0.86rem;
    }

    .pooh-quote-bubble {
        position: fixed;
        bottom: 120px;
        left: 24px;
        background: white;
        border-radius: 18px;
        padding: 10px 14px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        max-width: 220px;
        font-family: var(--font-heading);
        font-size: 1rem;
        color: var(--storybook-brown);
        border: 2px solid var(--pooh-yellow);
        opacity: 0;
        transform: translateY(18px);
        transition: all 0.28s ease;
        z-index: 1000;
    }

    .pooh-quote-bubble::after {
        content: '';
        position: absolute;
        bottom: -9px;
        left: 20px;
        width: 0;
        height: 0;
        border-left: 9px solid transparent;
        border-right: 9px solid transparent;
        border-top: 9px solid var(--pooh-yellow);
    }

    .pooh-quote-bubble.visible {
        opacity: 1;
        transform: translateY(0);
    }

    /* ===== ENHANCEMENTS FROM SECTION 1 ===== */
    .sign-sparkles {
        position: absolute;
        top: -5px;
        right: -5px;
        width: 20px;
        height: 20px;
        background: radial-gradient(circle, #FFD700 20%, transparent 70%);
        border-radius: 50%;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .woodland-sign:hover .sign-sparkles {
        opacity: 1;
        animation: sparkle 1.5s ease-in-out infinite;
    }

    @keyframes sparkle {
        0%, 100% { transform: scale(1); opacity: 0.7; }
        50% { transform: scale(1.2); opacity: 1; }
    }

    .floating-hearts {
        position: absolute;
        top: 10px;
        right: 10px;
        display: flex;
        flex-direction: column;
        gap: 5px;
    }

    .heart {
        font-size: 1.2rem;
        opacity: 0.7;
        animation: float-heart 3s ease-in-out infinite;
    }

    .heart:nth-child(1) { animation-delay: 0s; }
    .heart:nth-child(2) { animation-delay: 1s; }
    .heart:nth-child(3) { animation-delay: 2s; }

    @keyframes float-heart {
        0%, 100% { transform: translateY(0) scale(1); }
        50% { transform: translateY(-10px) scale(1.1); }
    }

    .honey-drip {
        position: absolute;
        bottom: -5px;
        left: 50%;
        transform: translateX(-50%);
        width: 8px;
        height: 8px;
        background: linear-gradient(to bottom, #FFC42B, #E6B86A);
        border-radius: 50%;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .hunny-pot:hover .honey-drip {
        opacity: 1;
        animation: honey-drip 1s ease-in-out;
    }

    @keyframes honey-drip {
        0% { transform: translateX(-50%) translateY(0); opacity: 1; }
        100% { transform: translateX(-50%) translateY(15px); opacity: 0; }
    }

    .character-glow {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 80px;
        height: 80px;
        background: radial-gradient(circle, rgba(255, 196, 43, 0.3) 0%, transparent 70%);
        border-radius: 50%;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .character-spotlight:hover .character-glow {
        opacity: 1;
        animation: glow-pulse 2s ease-in-out infinite;
    }

    @keyframes glow-pulse {
        0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.7; }
        50% { transform: translate(-50%, -50%) scale(1.1); opacity: 0.9; }
    }

    .spotlight-beam {
        position: absolute;
        top: -10px;
        left: 50%;
        transform: translateX(-50%);
        width: 100%;
        height: 20px;
        background: linear-gradient(to bottom, rgba(255, 255, 255, 0.8), transparent);
        clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .character-spotlight:hover .spotlight-beam {
        opacity: 0.6;
    }

    .section-animals {
        position: absolute;
        bottom: 20px;
        left: 0;
        right: 0;
        display: flex;
        justify-content: space-around;
        pointer-events: none;
    }

    .floating-animal {
        font-size: 1.5rem;
        opacity: 0.6;
        animation: float-animal 8s ease-in-out infinite;
    }

    .floating-animal[data-animal="bee"] { animation-delay: 0s; }
    .floating-animal[data-animal="butterfly"] { animation-delay: 2.5s; }
    .floating-animal[data-animal="bird"] { animation-delay: 5s; }

    @keyframes float-animal {
        0%, 100% { transform: translateY(0) translateX(0); }
        25% { transform: translateY(-20px) translateX(10px); }
        50% { transform: translateY(-10px) translateX(-10px); }
        75% { transform: translateY(-15px) translateX(5px); }
    }

    /* Enhanced Section-specific styles */
    .content-section {
        position: relative;
        overflow: hidden;
    }

    /* Add floating hearts to all story sections */
    .story-section {
        position: relative;
    }

    /* Enhanced woodland signs for all sections */
    .woodland-sign {
        position: relative;
    }

    /* Enhanced honey pots for all sections */
    .hunny-pot {
        position: relative;
        overflow: visible;
    }

    /* Enhanced character spotlights for all sections */
    .character-spotlight {
        position: relative;
    }

    /* Enhanced detail cards for all sections */
    .detail-card {
        position: relative;
    }

    /* Add decorative elements to all sections */
    .content-section::after {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        width: 100px;
        height: 100px;
        background: radial-gradient(circle, rgba(255, 196, 43, 0.1) 0%, transparent 70%);
        pointer-events: none;
    }

    /* ===== RESPONSIVE DESIGN ===== */
    @media (max-width: 992px) {
        .nav-menu {
            position: fixed;
            top: 0;
            right: -300px;
            width: 280px;
            height: 100vh;
            background: #fffaf1;
            flex-direction: column;
            padding: 80px 20px 20px;
            transition: right 0.28s ease;
            box-shadow: -5px 0 15px rgba(0,0,0,0.1);
            z-index: 999;
        }

        .nav-menu.active {
            right: 0;
        }

        .nav-toggle {
            display: flex;
            z-index: 1001;
        }

        .nav-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.5);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 998;
        }

        .nav-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .music-controls {
            bottom: 20px;
            left: 20px;
        }

        .fab-container {
            bottom: 20px;
            right: 20px;
        }

        .bouncing-tigger {
            bottom: 96px;
            right: 18px;
            width: 64px;
            height: 64px;
            font-size: 1.6rem;
        }

        /* Show mobile controls for game */
        .mobile-controls {
            display: flex;
        }
    }

    @media (max-width: 768px) {
        .storybook-shell {
            padding-inline: 12px;
        }
        .storybook {
            padding: 24px 18px 28px;
        }
        .content-section {
            padding: 20px 16px 22px;
        }
        .story-title {
            font-size: 1.85rem;
        }
        .invitation-details {
            grid-template-columns: 1fr;
        }
        .stats-container {
            grid-template-columns: 1fr;
        }
        .character-spotlight {
            flex-direction: column;
            align-items: flex-start;
        }
        .character-illustration {
            width: 96px;
            height: 96px;
        }
        .pooh-quote-bubble {
            bottom: 170px;
            left: 20px;
            max-width: 180px;
        }
        .nav-title {
            font-size: 1.4rem;
        }

        /* Adjust game container for mobile */
        .game-container {
            height: 200px;
        }
    }

    @media (max-width: 520px) {
        .cover-title {
            font-size: 2.2rem;
        }
        .cover-subtitle {
            font-size: 1.5rem;
        }
        .open-book-btn {
            padding: 10px 22px;
            font-size: 1rem;
        }
        .game-controls {
            flex-direction: column;
        }
        .storybook-heading {
            font-size: 2rem;
        }
    }
</style>
</head>
<body>

<a class="skip-link" href="#mainContent">Skip to main content</a>

<!-- HONEYCOMB BACKGROUND -->
<div class="honeycomb-bg" aria-hidden="true"></div>

<!-- LOADING SCREEN -->
<div class="loading-screen" id="loadingScreen">
    <div class="honey-spinner">
        <div class="loading-jar">
            <div class="loading-honey-fill"></div>
        </div>
    </div>
    <div class="loading-text">Preparing the Hundred Acre Celebration...</div>
    <div class="loading-subtext">
        Gathering honey pots, fluffing tails, straightening bows, and tidying a cozy corner of the Wood for Baby Gunner.
    </div>
    <div class="loading-dots">
        <div class="loading-dot"></div>
        <div class="loading-dot"></div>
        <div class="loading-dot"></div>
    </div>
    <div class="loading-hint">(tap or click anywhere to skip)</div>
    <button class="magical-btn" id="skipLoadingBtn">Skip loading screen</button>
</div>

<!-- ENCHANTED FOREST BACKGROUND -->
<div class="enchanted-forest" aria-hidden="true">
    <div class="tree" style="left: 5%; height: 360px;"></div>
    <div class="tree" style="left: 25%; height: 420px;"></div>
    <div class="tree" style="left: 60%; height: 340px;"></div>
    <div class="tree" style="left: 85%; height: 400px;"></div>
</div>

<div class="golden-light" aria-hidden="true"></div>

<!-- IMPROVED NAVIGATION -->
<nav class="main-nav" id="mainNav">
    <div class="nav-container">
        <div class="nav-brand">
            <a href="#" class="nav-title">Hundred Acre Wood</a>
            <div class="nav-subtitle">Baby Gunner's Celebration</div>
        </div>
        
        <div class="nav-menu" id="navMenu">
            <a href="#section1" class="nav-item active" data-section="section1">
                <i class="fas fa-home"></i>
                <span>Story Beginning</span>
            </a>
            <a href="#section2" class="nav-item" data-section="section2">
                <i class="fas fa-envelope"></i>
                <span>Invitation</span>
            </a>
            <a href="#section3" class="nav-item" data-section="section3">
                <i class="fas fa-users"></i>
                <span>Meet the Characters</span>
            </a>
            <a href="#section4" class="nav-item" data-section="section4">
                <i class="fas fa-gamepad"></i>
                <span>Woodland Activities</span>
            </a>
            <a href="#section5" class="nav-item" data-section="section5">
                <i class="fas fa-gift"></i>
                <span>Gunner's Treasure Trove</span>
            </a>
            <a href="#section6" class="nav-item" data-section="section6">
                <i class="fas fa-map-marker-alt"></i>
                <span>Location & Details</span>
            </a>
        </div>
        
        <button class="nav-toggle" id="navToggle" aria-label="Toggle navigation">
            <i class="fas fa-bars"></i>
        </button>
    </div>
</nav>

<div class="nav-overlay" id="navOverlay"></div>

<!-- READING PROGRESS -->
<div class="reading-progress" id="readingProgress"></div>

<!-- MUSIC CONTROLS (MOVED TO LEFT SIDE) -->
<div class="music-controls">
    <button class="music-btn" id="musicBtn" aria-label="Toggle gentle background music">
        <i class="fas fa-music"></i>
    </button>
    <button class="accessibility-btn" id="motionToggleBtn" type="button" aria-label="Reduce motion">
        <i class="fas fa-running"></i>
    </button>
</div>

<!-- FLOATING ACTION BUTTONS -->
<div class="fab-container" aria-label="Quick actions">
    <button class="fab" id="homeBtn" title="Back to the cover" aria-label="Back to the cover">
        <i class="fas fa-home"></i>
    </button>
    <button class="fab" id="rsvpBtn" title="Quick RSVP" aria-label="Quick RSVP">
        <i class="fas fa-envelope"></i>
    </button>
    <button class="fab" id="scrollToTopBtn" title="Scroll to top" aria-label="Scroll to top">
        <i class="fas fa-arrow-up"></i>
    </button>
</div>

<!-- WINNIE THE POOH THEME ELEMENTS -->
<div class="bouncing-tigger" id="bouncingTigger" title="Bounce with Tigger!">
    <i class="fas fa-paw"></i>
</div>

<div class="pooh-quote-bubble" id="poohQuoteBubble">
    "Oh, bother! I do believe this calls for a Very Special Something."
</div>

<!-- STORYBOOK COVER -->
<div class="storybook-cover" id="storybookCover">
    <div class="cover-decoration"></div>
    <h1 class="cover-title">The Hundred Acre Celebration</h1>
    <p class="cover-subtitle">Welcoming Baby Gunner to Our Story</p>

    <button class="open-book-btn" id="openBookBtn">
        <i class="fas fa-book-open"></i>
        Open the Story
    </button>
</div>

<!-- CHARACTER MODAL -->
<div class="character-modal" id="characterModal">
    <div class="modal-content">
        <button class="close-modal" id="closeModal" aria-label="Close character details">
            <i class="fas fa-times"></i>
        </button>
        <div class="modal-character">
            <div class="modal-character-icon pooh-icon" id="modalCharacterIcon">
                <i class="fas fa-bear"></i>
            </div>
            <div class="modal-character-name" id="modalCharacterName">Honey Bear</div>
        </div>
        <div class="modal-character-quote" id="modalCharacterQuote">
            "Some days call for a new baby, a full heart, and just one more spoon of honey."
        </div>
        <div class="modal-character-bio" id="modalCharacterBio">
            Honey Bear is a gentle, golden bear who thinks best with a small pot of something sweet nearby. He loves slow mornings, soft blankets, and any excuse to gather his friends under the trees to celebrate someone small and wonderful.
        </div>
    </div>
</div>

<!-- MAIN CONTENT -->
<main id="mainContent">
    <div class="storybook-shell">
        <div class="storybook" id="storybook">
            <div class="storybook-inner">
                <header class="storybook-header">
                    <h2 class="storybook-heading">Once upon a very special day...</h2>
                    <p class="storybook-subheading">A new little friend joins the Hundred Acre Wood</p>
                </header>

               <!-- SECTION 1: THE BEGINNING -->
    <section class="content-section scroll-animate" id="section1">
        <div class="content-section-inner">
            <div class="section-number">1</div>

            <div class="section-header">
                <h2 class="story-title">Once Upon a Time in the Hundred Acre Wood...</h2>
            </div>

            <div class="woodland-sign" onclick="playWoodlandSound()">
                Welcome to the Hundred Acre Wood
                <div class="sign-sparkles"></div>
            </div>

            <div class="story-section">
                <p class="story-text">
                    In a corner of the world where stories grow on trees and adventures wait around every bend,
                    a very special celebration is being prepared. The friends of the Hundred Acre Wood are gathering
                    together, for they've heard the most wonderful news ‚Äì a new friend is coming to join their adventures!
                </p>
                <div class="floating-hearts">
                    <div class="heart">‚ù§Ô∏è</div>
                    <div class="heart">üíõ</div>
                    <div class="heart">üíô</div>
                </div>
            </div>

            <div class="hunny-pot-collection">
                <div class="hunny-pot" onclick="playHunnySound()" data-delay="0">
                    <div class="honey-drip"></div>
                </div>
                <div class="hunny-pot" onclick="playHunnySound()" data-delay="1">
                    <div class="honey-drip"></div>
                </div>
                <div class="hunny-pot" onclick="playHunnySound()" data-delay="2">
                    <div class="honey-drip"></div>
                </div>
                <div class="hunny-pot" onclick="playHunnySound()" data-delay="3">
                    <div class="honey-drip"></div>
                </div>
            </div>

            <div class="character-spotlight" data-character="pooh" onclick="showCharacterModal('pooh')">
                <div class="character-illustration">
                    <div class="character-glow"></div>
                    <i class="fas fa-bear" style="font-size: 3rem; color: var(--pooh-yellow);"></i>
                </div>
                <div class="character-spotlight-content">
                    <div class="character-quote">
                        "Oh, bother! I do believe this calls for a Very Special Something. Perhaps with a little honey?"
                    </div>
                    <div class="character-name">- Winnie the Pooh</div>
                </div>
                <div class="spotlight-beam"></div>
            </div>

            <div class="story-section">
                <p class="story-text">
                    And so it was decided that all the creatures of the wood would come together for a Grand Celebration
                    to welcome this new little friend. They would share stories, play games, and of course, enjoy
                    plenty of honey and treats. For when a new friend arrives in the Hundred Acre Wood, it is always
                    a cause for the happiest of gatherings.
                </p>
            </div>

            <div class="section-animals">
                <div class="floating-animal" data-animal="bee">üêù</div>
                <div class="floating-animal" data-animal="butterfly">ü¶ã</div>
                <div class="floating-animal" data-animal="bird">üê¶</div>
            </div>
        </div>
    </section>

                <!-- SECTION 2: THE INVITATION -->
                <section class="content-section scroll-animate" id="section2">
                    <div class="content-section-inner">
                        <div class="section-number">2</div>

                        <div class="section-header">
                            <h2 class="story-title">You Are Cordially Invited</h2>
                        </div>

                        <div class="woodland-sign" onclick="playWoodlandSound()">
                            Party This Way ‚Üí
                            <div class="sign-sparkles"></div>
                        </div>

                        <div class="story-section">
                            <p class="story-text">
                                The friends of the Hundred Acre Wood request the pleasure of your company at a Very Special
                                Celebration in honor of the impending arrival of Baby Gunner. Come share in the joy, laughter,
                                and honey-sweet moments as we prepare to welcome this new little adventurer to our story.
                            </p>
                            <div class="floating-hearts">
                                <div class="heart">‚ù§Ô∏è</div>
                                <div class="heart">üíõ</div>
                                <div class="heart">üíô</div>
                            </div>
                        </div>

                        <div class="invitation-details">
                            <div class="detail-card">
                                <div class="detail-title">When Shall We Meet?</div>
                                <div class="detail-content">
                                    On the Twenty Second Day of March<br>
                                    In the Year Two Thousand Twenty-Six<br>
                                    At Two O'Clock in the Afternoon
                                </div>
                            </div>

                            <div class="detail-card">
                                <div class="detail-title">Where Does Our Story Unfold?</div>
                                <div class="detail-content">
                                    The Enchanted Woodland Venue<br>
                                    In the Lovely Town of Wilmington<br>
                                    Within the Beautiful State of Delaware
                                </div>
                            </div>

                            <div class="detail-card">
                                <div class="detail-title">What Shall We Wear?</div>
                                <div class="detail-content">
                                    Your Most Comfortable Storybook Attire<br>
                                    Soft Yellows, Gentle Blues, Creamy Whites<br>
                                    Or Whatever Makes Your Heart Feel Light
                                </div>
                            </div>

                            <div class="detail-card">
                                <div class="detail-title">How Shall We Respond?</div>
                                <div class="detail-content">
                                    By the Sixteenth of February<br>
                                    Send a Message with Your Reply<br>
                                    So We May Prepare Accordingly
                                </div>
                            </div>
                        </div>

                        <div class="rsvp-form">
                            <h3 class="story-title" style="text-align:center; margin-bottom:14px;">Send Your RSVP With a Buzz</h3>
                            <form class="storybook-form" id="rsvpForm" novalidate>
                                <div class="form-grid">
                                    <label class="form-field">
                                        <span class="field-label">Your name</span>
                                        <input type="text" name="name" id="rsvpName" placeholder="Add the name on your invitation" required>
                                    </label>
                                    <label class="form-field">
                                        <span class="field-label">Email or phone</span>
                                        <input type="text" name="contact" id="rsvpContact" placeholder="How can we reach you?" required>
                                    </label>
                                </div>
                                <div class="form-grid">
                                    <label class="form-field">
                                        <span class="field-label">Attendance choice</span>
                                        <select name="attendance" id="rsvpAttendance" required>
                                            <option value="">Will you attend?</option>
                                            <option value="yes">Yes, I'll be there</option>
                                            <option value="no">Sadly, I cannot</option>
                                        </select>
                                    </label>
                                    <label class="form-field">
                                        <span class="field-label">Accessibility or notes</span>
                                        <input type="text" name="notes" id="rsvpNotes" placeholder="Dietary needs, accessibility, or other notes">
                                    </label>
                                </div>
                                <label class="form-field">
                                    <span class="field-label">Message for the family</span>
                                    <textarea name="message" id="rsvpMessage" rows="3" placeholder="Leave a sweet note for the parents-to-be"></textarea>
                                </label>
                                <button type="submit" class="magical-btn">
                                    Submit RSVP
                                </button>
                                <div class="form-status" id="rsvpStatus"></div>
                            </form>
                        </div>

                        <div class="section-animals">
                            <div class="floating-animal" data-animal="bee">üêù</div>
                            <div class="floating-animal" data-animal="butterfly">ü¶ã</div>
                            <div class="floating-animal" data-animal="bird">üê¶</div>
                        </div>
                    </div>
                </section>

                <!-- SECTION 3: MEET THE CHARACTERS -->
                <section class="content-section scroll-animate" id="section3">
                    <div class="content-section-inner">
                        <div class="section-number">3</div>

                        <div class="section-header">
                            <h2 class="story-title">Meet Our Hosts</h2>
                        </div>

                        <div class="woodland-sign" onclick="playWoodlandSound()">
                            Character Meet &amp; Greet
                            <div class="sign-sparkles"></div>
                        </div>

                        <div class="story-section">
                            <p class="story-text">
                                All your favorite friends from the Hundred Acre Wood will be there to welcome you and share
                                in the celebration. Each has been preparing their own special way to make this day unforgettable.
                            </p>
                            <div class="floating-hearts">
                                <div class="heart">‚ù§Ô∏è</div>
                                <div class="heart">üíõ</div>
                                <div class="heart">üíô</div>
                            </div>
                        </div>

                        <div class="character-spotlight" data-character="pooh" onclick="showCharacterModal('pooh')">
                            <div class="character-illustration">
                                <div class="character-glow"></div>
                                <i class="fas fa-bear" style="font-size: 3rem; color: var(--pooh-yellow);"></i>
                            </div>
                            <div class="character-spotlight-content">
                                <div class="character-quote">
                                    "I'm bringing my very best honey pots, of course. A celebration isn't proper without them!"
                                </div>
                                <div class="character-name">Winnie the Pooh</div>
                            </div>
                            <div class="spotlight-beam"></div>
                        </div>

                        <div class="character-spotlight" data-character="piglet" onclick="showCharacterModal('piglet')">
                            <div class="character-illustration">
                                <div class="character-glow"></div>
                                <i class="fas fa-piggy-bank" style="font-size: 3rem; color: #F8BBD9;"></i>
                            </div>
                            <div class="character-spotlight-content">
                                <div class="character-quote">
                                    "I may be small, but I've been practicing my welcoming speech for weeks!"
                                </div>
                                <div class="character-name">Piglet</div>
                            </div>
                            <div class="spotlight-beam"></div>
                        </div>

                        <div class="character-spotlight" data-character="tigger" onclick="showCharacterModal('tigger')">
                            <div class="character-illustration">
                                <div class="character-glow"></div>
                                <i class="fas fa-cat" style="font-size: 3rem; color: #FF8C42;"></i>
                            </div>
                            <div class="character-spotlight-content">
                                <div class="character-quote">
                                    "The wonderful thing about celebrations is I get to bounce with everyone!"
                                </div>
                                <div class="character-name">Tigger</div>
                            </div>
                            <div class="spotlight-beam"></div>
                        </div>

                        <div class="character-spotlight" data-character="eeyore" onclick="showCharacterModal('eeyore')">
                            <div class="character-illustration">
                                <div class="character-glow"></div>
                                <i class="fas fa-horse" style="font-size: 3rem; color: #9CA3AF;"></i>
                            </div>
                            <div class="character-spotlight-content">
                                <div class="character-quote">
                                    "I've found a particularly nice patch of thistles for the occasion. Not that anyone will notice."
                                </div>
                                <div class="character-name">Eeyore</div>
                            </div>
                            <div class="spotlight-beam"></div>
                        </div>

                        <div class="section-animals">
                            <div class="floating-animal" data-animal="bee">üêù</div>
                            <div class="floating-animal" data-animal="butterfly">ü¶ã</div>
                            <div class="floating-animal" data-animal="bird">üê¶</div>
                        </div>
                    </div>
                </section>

                <!-- SECTION 4: WOODLAND ACTIVITIES -->
                <section class="content-section scroll-animate" id="section4">
                    <div class="content-section-inner">
                        <div class="section-number">4</div>

                        <div class="section-header">
                            <h2 class="story-title">Woodland Games &amp; Activities</h2>
                        </div>

                        <div class="woodland-sign" onclick="playWoodlandSound()">
                            Games &amp; Adventures
                            <div class="sign-sparkles"></div>
                        </div>

                        <div class="story-section">
                            <p class="story-text">
                                The Hundred Acre Wood is full of wonderful games and adventures.
                                Join us for some classic woodland fun!
                            </p>
                            <div class="floating-hearts">
                                <div class="heart">‚ù§Ô∏è</div>
                                <div class="heart">üíõ</div>
                                <div class="heart">üíô</div>
                            </div>
                        </div>

                        <!-- IMPROVED HONEY ADVENTURE GAME -->
                        <div class="honey-adventure-game">
                            <div class="game-header">
                                <h1>Winnie the Pooh's Honey Adventure</h1>
                                <p>Help Pooh collect honey pots while avoiding bees!</p>
                            </div>

                            <div class="stats-container">
                                <div class="stat" id="score-display">üçØ Score: 0</div>
                                <div class="stat" id="lives-display">‚ù§Ô∏è Lives: 3</div>
                                <div class="stat" id="level-display">‚≠ê Level: 1</div>
                            </div>

                            <div class="game-container">
                                <canvas id="gameCanvas" width="800" height="300"></canvas>
                            </div>

                            <!-- Mobile Controls -->
                            <div class="mobile-controls">
                                <button class="mobile-control-btn" id="leftBtn">‚Üê</button>
                                <button class="mobile-control-btn" id="rightBtn">‚Üí</button>
                            </div>

                            <div class="game-controls">
                                <button class="game-btn" id="startGameBtn">Start Game</button>
                                <button class="game-btn" id="pauseGameBtn" disabled>Pause</button>
                                <button class="game-btn" id="resetGameBtn">Reset</button>
                            </div>

                            <div class="message-box">
                                <span class="pooh-face">üêª</span>
                                <span id="game-message">Click "Start Game" to begin collecting honey!</span>
                            </div>

                            <div class="achievements">
                                <h3>Game Achievements</h3>
                                <div id="achievements-list">
                                    <div class="achievement hidden" id="ach-5">üçØ 5 Honey Pots</div>
                                    <div class="achievement hidden" id="ach-10">üèÜ 10 Honey Pots</div>
                                    <div class="achievement hidden" id="ach-20">üåü Honey Master</div>
                                </div>
                            </div>
                        </div>

                        <div class="invitation-details">
                            <div class="detail-card">
                                <div class="detail-title">Games &amp; Activities</div>
                                <div class="detail-content">
                                    ‚Ä¢ Pin the Tail on Eeyore<br>
                                    ‚Ä¢ Guess the Honey in the Pot<br>
                                    ‚Ä¢ Pooh's Quote Matching Game<br>
                                    ‚Ä¢ "Wishes for Baby" station<br>
                                    ‚Ä¢ Hundred Acre Wood photo booth<br>
                                    ‚Ä¢ Storytime with Christopher Robin
                                </div>
                            </div>

                            <div class="detail-card">
                                <div class="detail-title">For Our Littlest Guests</div>
                                <div class="detail-content">
                                    ‚Ä¢ Quiet play corner<br>
                                    ‚Ä¢ Coloring station<br>
                                    ‚Ä¢ Age-appropriate snacks<br>
                                    ‚Ä¢ Baby-changing facility<br>
                                    ‚Ä¢ Designated nursing area<br>
                                    ‚Ä¢ Tigger-approved bounce space
                                </div>
                            </div>
                        </div>

                        <div class="section-animals">
                            <div class="floating-animal" data-animal="bee">üêù</div>
                            <div class="floating-animal" data-animal="butterfly">ü¶ã</div>
                            <div class="floating-animal" data-animal="bird">üê¶</div>
                        </div>
                    </div>
                </section>

                <!-- SECTION 5: GUNNER'S TREASURE TROVE -->
                <section class="content-section scroll-animate" id="section5">
                    <div class="content-section-inner">
                        <div class="section-number">5</div>

                        <div class="section-header">
                            <h2 class="story-title">Gunner's Treasure Trove</h2>
                        </div>

                        <div class="woodland-sign" onclick="playWoodlandSound()">
                            Baby's First Treasures
                            <div class="sign-sparkles"></div>
                        </div>

                        <div class="story-section">
                            <p class="story-text">
                                Your presence at our celebration is the greatest gift we could imagine. For those who have
                                asked about gifts, we've created a small treasure trove of items that would help welcome
                                our little one to the world. But please know that handwritten notes, favorite children's books,
                                or simple well-wishes are equally treasured.
                            </p>
                            <div class="floating-hearts">
                                <div class="heart">‚ù§Ô∏è</div>
                                <div class="heart">üíõ</div>
                                <div class="heart">üíô</div>
                            </div>
                        </div>

                        <div style="text-align: center; margin: 26px 0;">
                            <a href="#" class="magical-btn">
                                <i class="fas fa-map"></i>
                                Explore the Treasure Map
                            </a>
                        </div>

                        <div class="character-spotlight" data-character="owl" onclick="showCharacterModal('owl')">
                            <div class="character-illustration">
                                <div class="character-glow"></div>
                                <i class="fas fa-feather-alt" style="font-size: 3rem; color: #8B7355;"></i>
                            </div>
                            <div class="character-spotlight-content">
                                <div class="character-quote">
                                    "The acquisition of knowledge through literature is, in my professional opinion, the finest gift one can bestow upon a young mind."
                                </div>
                                <div class="character-name">Owl</div>
                            </div>
                            <div class="spotlight-beam"></div>
                        </div>

                        <div class="character-spotlight" data-character="kanga" onclick="showCharacterModal('kanga')">
                            <div class="character-illustration">
                                <div class="character-glow"></div>
                                <i class="fas fa-baby" style="font-size: 3rem; color: #FAD7A0;"></i>
                            </div>
                            <div class="character-spotlight-content">
                                <div class="character-quote">
                                    "Little Roo and I believe that cozy blankets and soft cuddles are the very best presents of all."
                                </div>
                                <div class="character-name">Kanga</div>
                            </div>
                            <div class="spotlight-beam"></div>
                        </div>

                        <div class="section-animals">
                            <div class="floating-animal" data-animal="bee">üêù</div>
                            <div class="floating-animal" data-animal="butterfly">ü¶ã</div>
                            <div class="floating-animal" data-animal="bird">üê¶</div>
                        </div>
                    </div>
                </section>

                <!-- SECTION 6: PRACTICAL MATTERS -->
                <section class="content-section scroll-animate" id="section6">
                    <div class="content-section-inner">
                        <div class="section-number">6</div>

                        <div class="section-header">
                            <h2 class="story-title">Finding Our Woodland Gathering</h2>
                        </div>

                        <div class="woodland-sign" onclick="playWoodlandSound()">
                            Directions &amp; Details
                            <div class="sign-sparkles"></div>
                        </div>

                        <div class="story-section">
                            <p class="story-text">
                                Even the most wonderful adventures require a bit of practical planning. Here you'll find
                                all the details needed to join our celebration without any bother.
                            </p>
                            <div class="floating-hearts">
                                <div class="heart">‚ù§Ô∏è</div>
                                <div class="heart">üíõ</div>
                                <div class="heart">üíô</div>
                            </div>
                        </div>

                        <div class="invitation-details">
                            <div class="detail-card">
                                <div class="detail-title">The Very Specific Location</div>
                                <div class="detail-content">
                                    <strong>The Enchanted Woodland Venue</strong><br>
                                    123 Hundred Acre Lane<br>
                                    Wilmington, Delaware 19801<br><br>
                                    <i class="fas fa-map-marker-alt"></i>
                                    <a href="#" style="color: var(--pooh-red); text-decoration: none;">View on Map</a>
                                </div>
                            </div>

                            <div class="detail-card">
                                <div class="detail-title">Parking &amp; Arrival</div>
                                <div class="detail-content">
                                    ‚Ä¢ Plenty of parking in the meadow<br>
                                    ‚Ä¢ Follow the honey pot signs<br>
                                    ‚Ä¢ Golf cart assistance available<br>
                                    ‚Ä¢ Arrive 15 minutes early for magic<br>
                                    ‚Ä¢ Text (609) 828-7347 if lost
                                </div>
                            </div>

                            <div class="detail-card">
                                <div class="detail-title">For Our Out-of-Town Friends</div>
                                <div class="detail-content">
                                    <strong>Recommended Inns:</strong><br>
                                    ‚Ä¢ The Cozy Bear Inn (2 miles)<br>
                                    ‚Ä¢ Rabbit's Garden Suites (3 miles)<br>
                                    ‚Ä¢ The Blustery Day Hotel (5 miles)<br><br>
                                    <em>Special rates available for our guests</em>
                                </div>
                            </div>

                            <div class="detail-card">
                                <div class="detail-title">Accessibility Notes</div>
                                <div class="detail-content">
                                    ‚Ä¢ Fully wheelchair accessible<br>
                                    ‚Ä¢ Quiet room available<br>
                                    ‚Ä¢ Allergy-aware menu options<br>
                                    ‚Ä¢ Service animals welcome<br>
                                    ‚Ä¢ Please indicate needs in RSVP
                                </div>
                            </div>
                        </div>

                        <div class="character-spotlight" data-character="rabbit" onclick="showCharacterModal('rabbit')">
                            <div class="character-illustration">
                                <div class="character-glow"></div>
                                <i class="fas fa-carrot" style="font-size: 3rem; color: var(--sage-green);"></i>
                            </div>
                            <div class="character-spotlight-content">
                                <div class="character-quote">
                                    "I've organized everything with military precision! Well, as precise as one can be when Tigger keeps moving the signs..."
                                </div>
                                <div class="character-name">Rabbit</div>
                            </div>
                            <div class="spotlight-beam"></div>
                        </div>

                        <div class="section-animals">
                            <div class="floating-animal" data-animal="bee">üêù</div>
                            <div class="floating-animal" data-animal="butterfly">ü¶ã</div>
                            <div class="floating-animal" data-animal="bird">üê¶</div>
                        </div>
                    </div>
                </section>

                <!-- FOOTER -->
                <footer class="footer">
                    <p>Made with love and honey for Baby Gunner</p>
                    <p>¬© 2025 The Hundred Acre Wood</p>
                </footer>
            </div>
        </div>
    </div>
</main>

<!-- HIDDEN AUDIO ELEMENTS -->
<audio id="backgroundMusic" loop>
    <source src="https://assets.mixkit.co/music/preview/mixkit-gently-piano-578.mp3" type="audio/mpeg">
</audio>

<audio id="hunnySound" src="https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3"></audio>
<audio id="tiggerBounceSound" src="https://assets.mixkit.co/sfx/preview/mixkit-jump-into-the-water-1105.mp3"></audio>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Core UI Elements
        const loadingScreen = document.getElementById('loadingScreen');
        const storybookCover = document.getElementById('storybookCover');
        const openBookBtn = document.getElementById('openBookBtn');
        const storybook = document.getElementById('storybook');
        const forestBg = document.querySelector('.enchanted-forest');
        const readingProgress = document.getElementById('readingProgress');
        const musicBtn = document.getElementById('musicBtn');
        const motionToggleBtn = document.getElementById('motionToggleBtn');
        const backgroundMusic = document.getElementById('backgroundMusic');
        const characterModal = document.getElementById('characterModal');
        const closeModalBtn = document.getElementById('closeModal');
        const modalCharacterName = document.getElementById('modalCharacterName');
        const modalCharacterQuote = document.getElementById('modalCharacterQuote');
        const modalCharacterBio = document.getElementById('modalCharacterBio');
        const modalCharacterIcon = document.getElementById('modalCharacterIcon');
        const navMenu = document.getElementById('navMenu');
        const navToggle = document.getElementById('navToggle');
        const navOverlay = document.getElementById('navOverlay');
        const skipLoadingBtn = document.getElementById('skipLoadingBtn');
        const navItems = document.querySelectorAll('.nav-item');
        const homeBtn = document.getElementById('homeBtn');
        const rsvpBtn = document.getElementById('rsvpBtn');
        const scrollToTopBtn = document.getElementById('scrollToTopBtn');
        const contentSections = document.querySelectorAll('.content-section');
        const scrollAnimateElements = document.querySelectorAll('.scroll-animate');
        const rsvpForm = document.getElementById('rsvpForm');
        const rsvpStatus = document.getElementById('rsvpStatus');
        
        // Winnie the Pooh theme elements
        const bouncingTigger = document.getElementById('bouncingTigger');
        const poohQuoteBubble = document.getElementById('poohQuoteBubble');

        // Game Elements
        const startGameBtn = document.getElementById('startGameBtn');
        const pauseGameBtn = document.getElementById('pauseGameBtn');
        const resetGameBtn = document.getElementById('resetGameBtn');
        const scoreDisplay = document.getElementById('score-display');
        const livesDisplay = document.getElementById('lives-display');
        const levelDisplay = document.getElementById('level-display');
        const gameMessage = document.getElementById('game-message');
        const leftBtn = document.getElementById('leftBtn');
        const rightBtn = document.getElementById('rightBtn');

        let isMusicPlaying = false;
        let lastFocusedElement = null;

        const characterData = {
            pooh: {
                name: "Winnie the Pooh",
                quote: "Oh, bother! I do believe this calls for a Very Special Something. Perhaps with a little honey?",
                bio: "Winnie the Pooh is a friendly, thoughtful and sometimes quiet teddy bear. He is always willing to help out his friends and try his best to be a good friend. He enjoys simple pleasures like eating honey and having adventures with his friends in the Hundred Acre Wood.",
                iconClass: "pooh-icon",
                iconHTML: '<i class="fas fa-bear"></i>'
            },
            piglet: {
                name: "Piglet",
                quote: "I may be small, but I've been practicing my welcoming speech for weeks!",
                bio: "Piglet is a very small animal of a generally timid disposition. Despite his small size, Piglet often proves to be very brave when his friends need him.",
                iconClass: "piglet-icon",
                iconHTML: '<i class="fas fa-heart"></i>'
            },
            tigger: {
                name: "Tigger",
                quote: "The wonderful thing about celebrations is I get to bounce with everyone!",
                bio: "Tigger is an energetic, outgoing, and fun-loving tiger who loves to bounce. He is always ready for adventure and brings excitement wherever he goes.",
                iconClass: "tigger-icon",
                iconHTML: '<i class="fas fa-paw"></i>'
            },
            eeyore: {
                name: "Eeyore",
                quote: "I've found a particularly nice patch of thistles for the occasion. Not that anyone will notice.",
                bio: "Eeyore is an old grey donkey who is generally pessimistic and gloomy. Despite his outlook, Eeyore is a loyal friend and appreciated for his unique perspective.",
                iconClass: "eeyore-icon",
                iconHTML: '<i class="fas fa-cloud"></i>'
            },
            rabbit: {
                name: "Rabbit",
                quote: "I've organized everything perfectly! Well, as perfectly as one can with Tigger around...",
                bio: "Rabbit is practical, organized, and likes things to be done properly. He tends to get frustrated when things don't go according to plan, especially when Tigger is involved.",
                iconClass: "rabbit-icon",
                iconHTML: '<i class="fas fa-carrot"></i>'
            },
            owl: {
                name: "Owl",
                quote: "The acquisition of knowledge through literature is, in my professional opinion, the finest gift one can bestow upon a young mind.",
                bio: "Owl presents himself as knowledgeable and academic, though he sometimes gets facts wrong. He enjoys telling long, elaborate stories.",
                iconClass: "owl-icon",
                iconHTML: '<i class="fas fa-feather"></i>'
            },
            kanga: {
                name: "Kanga",
                quote: "Little Roo and I believe that cozy blankets and soft cuddles are the very best presents of all.",
                bio: "Kanga is kind, gentle, and maternal, often looking after the other characters. She is always prepared to help anyone in need.",
                iconClass: "kanga-icon",
                iconHTML: '<i class="fas fa-baby"></i>'
            }
        };

        // Game Variables
        let gameState = {
            score: 0,
            lives: 3,
            level: 1,
            isRunning: false,
            isPaused: false,
            achievements: {
                fiveHoney: false,
                tenHoney: false,
                twentyHoney: false
            }
        };

        // Canvas Game Variables
        let canvas, ctx;
        let pooh = {
            x: 0,
            y: 0,
            width: 60,
            height: 80,
            speed: 5
        };
        let honeyPots = [];
        let bees = [];
        let keys = {};
        let gameInterval;
        let lastHoneyTime = 0;
        let lastBeeTime = 0;
        let touchStartX = 0;
        let isMovingLeft = false;
        let isMovingRight = false;

        function init() {
            createFloatingLeaves();

            const hideLoading = () => loadingScreen.classList.add('hidden');
            setTimeout(hideLoading, 1800);
            loadingScreen.addEventListener('click', hideLoading, { once: true });
            skipLoadingBtn.addEventListener('click', hideLoading, { once: true });

            initializeMotionPreference();
            setupEventListeners();
            setupFormValidation();
            setupWinnieThePoohTheme();
            checkScrollAnimations();
            updateActiveNav();
            initGame();
        }

        function createFloatingLeaves() {
            for (let i = 0; i < 14; i++) {
                const leaf = document.createElement('div');
                leaf.className = 'floating-leaf';

                const size = 15 + Math.random() * 25;
                const left = Math.random() * 100;
                const delay = Math.random() * 15;
                const duration = 12 + Math.random() * 18;

                leaf.style.width = `${size}px`;
                leaf.style.height = `${size}px`;
                leaf.style.left = `${left}vw`;
                leaf.style.animationDelay = `${delay}s`;
                leaf.style.animationDuration = `${duration}s`;

                forestBg.appendChild(leaf);
            }
        }

        function setupWinnieThePoohTheme() {
            // Create honey drips periodically
            setInterval(() => {
                createHoneyDrip();
            }, 5000);

            // Bouncing Tigger interaction
            bouncingTigger.addEventListener('click', () => {
                // Play bounce sound
                const bounceSound = document.getElementById('tiggerBounceSound');
                bounceSound.currentTime = 0;
                bounceSound.play();
                
                // Show random Pooh quote
                showRandomPoohQuote();
            });

            // Show Pooh quote bubble on page load after a delay
            setTimeout(() => {
                showRandomPoohQuote();
            }, 3000);
        }

        function createHoneyDrip() {
            const honeyDrip = document.createElement('div');
            honeyDrip.className = 'honey-drip';
            
            // Random position
            const left = Math.random() * 100;
            honeyDrip.style.left = `${left}vw`;
            honeyDrip.style.top = '0';
            
            document.body.appendChild(honeyDrip);
            
            // Remove after animation completes
            setTimeout(() => {
                honeyDrip.remove();
            }, 3000);
        }

        function showRandomPoohQuote() {
            const poohQuotes = [
                "Oh, bother! I do believe this calls for a Very Special Something.",
                "A day without a friend is like a pot without a single drop of honey left inside.",
                "Some people care too much. I think it's called love.",
                "I am short, fat, and proud of that.",
                "A little consideration, a little thought for others, makes all the difference.",
                "Rivers know this: there is no hurry. We shall get there some day.",
                "You can't stay in your corner of the Forest waiting for others to come to you.",
                "How lucky I am to have something that makes saying goodbye so hard.",
                "People say nothing is impossible, but I do nothing every day.",
                "The things that make me different are the things that make me."
            ];
            
            const randomQuote = poohQuotes[Math.floor(Math.random() * poohQuotes.length)];
            poohQuoteBubble.textContent = `"${randomQuote}"`;
            poohQuoteBubble.classList.add('visible');
            
            // Hide after 5 seconds
            setTimeout(() => {
                poohQuoteBubble.classList.remove('visible');
            }, 5000);
        }

        function initializeMotionPreference() {
            const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)');
            if (prefersReduced.matches) {
                enableReducedMotion(true);
            }

            prefersReduced.addEventListener('change', (event) => {
                enableReducedMotion(event.matches);
            });
        }

        function toggleMotionPreference() {
            const isReduced = !document.body.classList.contains('reduce-motion');
            enableReducedMotion(isReduced);
        }

        function enableReducedMotion(isReduced) {
            document.body.classList.toggle('reduce-motion', isReduced);
            motionToggleBtn.setAttribute('aria-pressed', isReduced.toString());
            
            // Update icon based on state
            if (isReduced) {
                motionToggleBtn.innerHTML = '<i class="fas fa-pause-circle"></i>';
                motionToggleBtn.setAttribute('aria-label', 'Enable animations');
            } else {
                motionToggleBtn.innerHTML = '<i class="fas fa-running"></i>';
                motionToggleBtn.setAttribute('aria-label', 'Reduce motion');
            }
        }

        function setupEventListeners() {
            openBookBtn.addEventListener('click', openStorybook);
            navToggle.addEventListener('click', toggleNavMenu);
            navOverlay.addEventListener('click', toggleNavMenu);

            musicBtn.addEventListener('click', toggleMusic);
            motionToggleBtn.addEventListener('click', toggleMotionPreference);

            document.querySelectorAll('.character-spotlight').forEach(character => {
                character.addEventListener('click', handleCharacterClick);
            });

            closeModalBtn.addEventListener('click', closeCharacterModal);
            characterModal.addEventListener('click', (e) => {
                if (e.target === characterModal) closeCharacterModal();
            });

            navItems.forEach(item => {
                if (!item.id && item.dataset.section) {
                    item.addEventListener('click', (e) => {
                        e.preventDefault();
                        scrollToSection(item.dataset.section);
                        if (window.innerWidth < 992) {
                            toggleNavMenu(false);
                        }
                    });
                }
            });

            homeBtn.addEventListener('click', backToCover);
            rsvpBtn.addEventListener('click', () => {
                scrollToSection('section2');
                if (window.innerWidth < 992) {
                    toggleNavMenu(false);
                }
            });
            scrollToTopBtn.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });

            document.addEventListener('keydown', handleKeyPress);
            document.addEventListener('keyup', handleKeyUp);
            window.addEventListener('scroll', updateReadingProgress);
            window.addEventListener('scroll', updateActiveNav);
            window.addEventListener('scroll', checkScrollAnimations);
            window.addEventListener('resize', handleResize);

            updateReadingProgress();
        }

        function setupFormValidation() {
            if (!rsvpForm) return;

            rsvpForm.addEventListener('submit', (event) => {
                event.preventDefault();
                
                // Simple validation
                const name = document.getElementById('rsvpName').value;
                const contact = document.getElementById('rsvpContact').value;
                const attendance = document.getElementById('rsvpAttendance').value;
                
                if (!name || !contact || !attendance) {
                    rsvpStatus.textContent = 'Please fill in all required fields.';
                    rsvpStatus.style.color = '#b91c1c';
                    return;
                }
                
                // Simulate form submission
                rsvpStatus.textContent = 'Sending your RSVP...';
                rsvpStatus.style.color = '#92400e';
                
                setTimeout(() => {
                    rsvpStatus.textContent = "RSVP received! We'll keep you updated with details.";
                    rsvpStatus.style.color = '#166534';
                    rsvpForm.reset();
                }, 1500);
            });
        }

        function toggleNavMenu(forceState) {
            const shouldOpen = typeof forceState === 'boolean' ? forceState : !navMenu.classList.contains('active');
            navMenu.classList.toggle('active', shouldOpen);
            navOverlay.classList.toggle('active', shouldOpen);
            document.body.style.overflow = shouldOpen ? 'hidden' : '';
        }

        function openStorybook() {
            storybookCover.classList.add('closed');

            setTimeout(() => {
                storybook.classList.add('visible');
                contentSections.forEach(section => {
                    section.classList.add('visible');
                });
            }, 800);
        }

        function backToCover() {
            storybook.classList.remove('visible');
            setTimeout(() => {
                storybookCover.classList.remove('closed');
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }, 300);
        }

        function toggleMusic() {
            if (isMusicPlaying) {
                backgroundMusic.pause();
                isMusicPlaying = false;
                musicBtn.innerHTML = '<i class="fas fa-music"></i>';
                musicBtn.setAttribute('aria-label', 'Play background music');
            } else {
                backgroundMusic.play().then(() => {
                    isMusicPlaying = true;
                    musicBtn.innerHTML = '<i class="fas fa-volume-up"></i>';
                    musicBtn.setAttribute('aria-label', 'Pause background music');
                }).catch((error) => {
                    console.log('Audio play failed:', error);
                    isMusicPlaying = false;
                    musicBtn.innerHTML = '<i class="fas fa-music"></i>';
                    musicBtn.setAttribute('aria-label', 'Play background music');
                });
            }
        }

        function handleCharacterClick(event) {
            const characterElement = event.currentTarget;
            const characterKey = characterElement.getAttribute('data-character');
            if (characterData[characterKey]) {
                openCharacterModal(characterKey);
            }
        }

        function openCharacterModal(characterKey) {
            lastFocusedElement = document.activeElement;
            const character = characterData[characterKey];
            modalCharacterName.textContent = character.name;
            modalCharacterQuote.textContent = `"${character.quote}"`;
            modalCharacterBio.textContent = character.bio;
            modalCharacterIcon.className = `modal-character-icon ${character.iconClass}`;
            modalCharacterIcon.innerHTML = character.iconHTML;
            characterModal.classList.add('active');
        }

        function closeCharacterModal() {
            characterModal.classList.remove('active');
            if (lastFocusedElement) {
                lastFocusedElement.focus();
            }
        }

        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (section) {
                section.scrollIntoView({
                    behavior: 'smooth'
                });
            }
        }

        function updateActiveNav() {
            const scrollPosition = window.pageYOffset + 100;

            navItems.forEach(item => {
                const sectionId = item.getAttribute('data-section');
                if (sectionId) {
                    const section = document.getElementById(sectionId);
                    if (section) {
                        const rect = section.getBoundingClientRect();
                        const sectionTop = rect.top + window.pageYOffset;
                        const sectionBottom = sectionTop + section.offsetHeight;

                        if (scrollPosition >= sectionTop && scrollPosition < sectionBottom) {
                            item.classList.add('active');
                        } else {
                            item.classList.remove('active');
                        }
                    }
                }
            });
        }

        function handleKeyPress(event) {
            if (event.key === 'Escape') {
                closeCharacterModal();
                toggleNavMenu(false);
            } else if (event.key === 'Home') {
                backToCover();
            } else if (gameState.isRunning && !gameState.isPaused) {
                keys[event.key] = true;
            }
        }

        function handleKeyUp(event) {
            if (gameState.isRunning && !gameState.isPaused) {
                keys[event.key] = false;
            }
        }

        function updateReadingProgress() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrollProgress = scrollHeight > 0 ? (scrollTop / scrollHeight) * 100 : 0;
            readingProgress.style.width = `${scrollProgress}%`;
        }

        function handleResize() {
            if (window.innerWidth >= 992) {
                toggleNavMenu(false);
            }
            
            // Resize canvas if game is running
            if (canvas) {
                canvas.width = canvas.offsetWidth;
                canvas.height = canvas.offsetHeight;
                
                // Update Pooh position
                pooh.x = canvas.width / 2 - pooh.width / 2;
                pooh.y = canvas.height - pooh.height - 10;
                
                if (gameState.isRunning) {
                    renderGame();
                }
            }
        }

        function checkScrollAnimations() {
            const windowHeight = window.innerHeight;
            const triggerBottom = windowHeight * 0.8;

            scrollAnimateElements.forEach(element => {
                const elementTop = element.getBoundingClientRect().top;
                if (elementTop < triggerBottom) {
                    element.classList.add('visible');
                }
            });
        }

        // Enhanced woodland sign sound function
        window.playWoodlandSound = function() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.type = 'sine';
            oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime); // C5
            oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.1); // E5
            oscillator.frequency.setValueAtTime(783.99, audioContext.currentTime + 0.2); // G5
            
            gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.8);
            
            oscillator.start();
            oscillator.stop(audioContext.currentTime + 0.8);
            
            // Add visual feedback
            const sign = event.target.closest('.woodland-sign');
            if (sign) {
                sign.style.transform = 'scale(1.1)';
                setTimeout(() => {
                    sign.style.transform = '';
                }, 300);
            }
        };

        // Honey pot sound function
        window.playHunnySound = function() {
            const sound = document.getElementById('hunnySound');
            sound.currentTime = 0;
            sound.play();

            if (event && event.target) {
                event.target.style.transform = 'scale(0.9)';
                setTimeout(() => {
                    event.target.style.transform = '';
                }, 200);
                
                // Create honey splash effect
                const splash = document.createElement('div');
                splash.style.position = 'absolute';
                splash.style.top = '50%';
                splash.style.left = '50%';
                splash.style.width = '30px';
                splash.style.height = '30px';
                splash.style.background = 'radial-gradient(circle, #FFC42B 0%, transparent 70%)';
                splash.style.borderRadius = '50%';
                splash.style.opacity = '0.8';
                splash.style.transform = 'translate(-50%, -50%) scale(0)';
                splash.style.transition = 'all 0.5s ease';
                event.target.appendChild(splash);
                
                // Animate splash
                setTimeout(() => {
                    splash.style.transform = 'translate(-50%, -50%) scale(2)';
                    splash.style.opacity = '0';
                }, 10);
                
                // Remove splash after animation
                setTimeout(() => {
                    splash.remove();
                }, 500);
            }
        };

        // Character modal function
        window.showCharacterModal = function(character) {
            if (characterData[character]) {
                openCharacterModal(character);
            }
        };

        // Game Functions
        function initGame() {
            canvas = document.getElementById('gameCanvas');
            ctx = canvas.getContext('2d');
            
            // Set canvas dimensions
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            // Initialize Pooh position
            pooh.x = canvas.width / 2 - pooh.width / 2;
            pooh.y = canvas.height - pooh.height - 10;
            
            // Set up game controls
            startGameBtn.addEventListener('click', startGame);
            pauseGameBtn.addEventListener('click', togglePauseGame);
            resetGameBtn.addEventListener('click', resetGame);
            
            // Set up mobile controls
            if (leftBtn && rightBtn) {
                // Touch events for mobile controls
                leftBtn.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    isMovingLeft = true;
                });
                
                leftBtn.addEventListener('touchend', (e) => {
                    e.preventDefault();
                    isMovingLeft = false;
                });
                
                rightBtn.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    isMovingRight = true;
                });
                
                rightBtn.addEventListener('touchend', (e) => {
                    e.preventDefault();
                    isMovingRight = false;
                });
                
                // Mouse events for testing
                leftBtn.addEventListener('mousedown', () => {
                    isMovingLeft = true;
                });
                
                leftBtn.addEventListener('mouseup', () => {
                    isMovingLeft = false;
                });
                
                leftBtn.addEventListener('mouseleave', () => {
                    isMovingLeft = false;
                });
                
                rightBtn.addEventListener('mousedown', () => {
                    isMovingRight = true;
                });
                
                rightBtn.addEventListener('mouseup', () => {
                    isMovingRight = false;
                });
                
                rightBtn.addEventListener('mouseleave', () => {
                    isMovingRight = false;
                });
            }
            
            // Touch events for direct canvas interaction
            canvas.addEventListener('touchstart', handleTouchStart);
            canvas.addEventListener('touchmove', handleTouchMove);
            
            // Initial render
            renderGame();
        }

        function handleTouchStart(e) {
            if (!gameState.isRunning || gameState.isPaused) return;
            
            const touch = e.touches[0];
            touchStartX = touch.clientX;
        }

        function handleTouchMove(e) {
            if (!gameState.isRunning || gameState.isPaused) return;
            
            e.preventDefault();
            const touch = e.touches[0];
            const touchX = touch.clientX;
            const deltaX = touchX - touchStartX;
            
            // Move Pooh based on touch movement
            pooh.x += deltaX * 0.5;
            
            // Constrain Pooh to canvas boundaries
            if (pooh.x < 0) pooh.x = 0;
            if (pooh.x > canvas.width - pooh.width) pooh.x = canvas.width - pooh.width;
            
            touchStartX = touchX;
        }

        function startGame() {
            if (!gameState.isRunning) {
                gameState.isRunning = true;
                gameState.isPaused = false;
                gameState.score = 0;
                gameState.lives = 3;
                gameState.level = 1;
                
                honeyPots = [];
                bees = [];
                
                startGameBtn.disabled = true;
                pauseGameBtn.disabled = false;
                resetGameBtn.disabled = false;
                
                gameMessage.textContent = "Game started! Use arrow keys or touch to move Pooh!";
                
                gameInterval = setInterval(gameLoop, 1000 / 60);
            }
        }

        function togglePauseGame() {
            if (gameState.isRunning) {
                gameState.isPaused = !gameState.isPaused;
                pauseGameBtn.textContent = gameState.isPaused ? 'Resume' : 'Pause';
                gameMessage.textContent = gameState.isPaused ? "Game paused" : "Game resumed!";
            }
        }

        function resetGame() {
            clearInterval(gameInterval);
            gameState.isRunning = false;
            gameState.isPaused = false;
            
            startGameBtn.disabled = false;
            pauseGameBtn.disabled = true;
            resetGameBtn.disabled = true;
            pauseGameBtn.textContent = 'Pause';
            
            gameMessage.textContent = "Click 'Start Game' to begin collecting honey!";
            
            // Reset achievements
            Object.keys(gameState.achievements).forEach(key => {
                gameState.achievements[key] = false;
                const achievementEl = document.getElementById(`ach-${key.split('Honey')[0]}`);
                if (achievementEl) achievementEl.classList.add('hidden');
            });
            
            updateGameDisplay();
            renderGame();
        }

        function gameLoop() {
            if (gameState.isPaused) return;
            
            updateGame();
            renderGame();
        }

        function updateGame() {
            // Move Pooh based on keyboard or mobile controls
            if ((keys.ArrowLeft || isMovingLeft) && pooh.x > 0) {
                pooh.x -= pooh.speed;
            }
            if ((keys.ArrowRight || isMovingRight) && pooh.x < canvas.width - pooh.width) {
                pooh.x += pooh.speed;
            }
            
            // Spawn honey pots
            const currentTime = Date.now();
            if (currentTime - lastHoneyTime > 1000 - (gameState.level * 100)) {
                spawnHoneyPot();
                lastHoneyTime = currentTime;
            }
            
            // Spawn bees
            if (currentTime - lastBeeTime > 2000 - (gameState.level * 150)) {
                spawnBee();
                lastBeeTime = currentTime;
            }
            
            // Update honey pots
            for (let i = honeyPots.length - 1; i >= 0; i--) {
                honeyPots[i].y += honeyPots[i].speed;
                
                // Check collision with Pooh
                if (checkCollision(pooh, honeyPots[i])) {
                    gameState.score++;
                    honeyPots.splice(i, 1);
                    updateGameDisplay();
                    checkAchievements();
                    continue;
                }
                
                // Remove if off screen
                if (honeyPots[i].y > canvas.height) {
                    honeyPots.splice(i, 1);
                }
            }
            
            // Update bees
            for (let i = bees.length - 1; i >= 0; i--) {
                bees[i].y += bees[i].speed;
                
                // Check collision with Pooh
                if (checkCollision(pooh, bees[i])) {
                    gameState.lives--;
                    bees.splice(i, 1);
                    updateGameDisplay();
                    
                    if (gameState.lives <= 0) {
                        gameOver();
                    }
                    continue;
                }
                
                // Remove if off screen
                if (bees[i].y > canvas.height) {
                    bees.splice(i, 1);
                }
            }
            
            // Check level up
            if (gameState.score >= gameState.level * 5) {
                gameState.level++;
                gameMessage.textContent = `Level ${gameState.level}! Watch out for more bees!`;
                updateGameDisplay();
            }
            
            // Check win condition
            if (gameState.score >= 20) {
                winGame();
            }
        }

        function renderGame() {
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Draw background
            ctx.fillStyle = '#a5d6a7';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Draw ground
            ctx.fillStyle = '#8B4513';
            ctx.fillRect(0, canvas.height - 10, canvas.width, 10);
            
            // Draw Pooh
            ctx.fillStyle = '#FFC42B';
            ctx.fillRect(pooh.x, pooh.y, pooh.width, pooh.height);
            
            // Draw Pooh's face
            ctx.fillStyle = '#000';
            ctx.fillRect(pooh.x + 15, pooh.y + 20, 10, 10); // Left eye
            ctx.fillRect(pooh.x + 35, pooh.y + 20, 10, 10); // Right eye
            ctx.fillRect(pooh.x + 20, pooh.y + 40, 20, 10); // Mouth
            
            // Draw honey pots
            honeyPots.forEach(pot => {
                ctx.fillStyle = '#E6B86A';
                ctx.fillRect(pot.x, pot.y, pot.width, pot.height);
                
                // Honey pot details
                ctx.fillStyle = '#8B4513';
                ctx.fillRect(pot.x, pot.y, pot.width, 5); // Lid
                ctx.fillRect(pot.x, pot.y + pot.height - 5, pot.width, 5); // Base
            });
            
            // Draw bees
            bees.forEach(bee => {
                ctx.fillStyle = '#FACC15';
                ctx.fillRect(bee.x, bee.y, bee.width, bee.height);
                
                // Bee stripes
                ctx.fillStyle = '#000';
                ctx.fillRect(bee.x, bee.y, bee.width, 3);
                ctx.fillRect(bee.x, bee.y + 7, bee.width, 3);
                
                // Bee wings
                ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
                ctx.fillRect(bee.x - 5, bee.y - 5, 10, 10);
                ctx.fillRect(bee.x + bee.width - 5, bee.y - 5, 10, 10);
            });
        }

        function spawnHoneyPot() {
            const x = Math.random() * (canvas.width - 30);
            honeyPots.push({
                x: x,
                y: 0,
                width: 30,
                height: 40,
                speed: 2 + (gameState.level * 0.5)
            });
        }

        function spawnBee() {
            const x = Math.random() * (canvas.width - 20);
            bees.push({
                x: x,
                y: 0,
                width: 20,
                height: 15,
                speed: 3 + (gameState.level * 0.7)
            });
        }

        function checkCollision(obj1, obj2) {
            return obj1.x < obj2.x + obj2.width &&
                   obj1.x + obj1.width > obj2.x &&
                   obj1.y < obj2.y + obj2.height &&
                   obj1.y + obj1.height > obj2.y;
        }

        function updateGameDisplay() {
            scoreDisplay.textContent = `üçØ Score: ${gameState.score}`;
            livesDisplay.textContent = `‚ù§Ô∏è Lives: ${gameState.lives}`;
            levelDisplay.textContent = `‚≠ê Level: ${gameState.level}`;
        }

        function checkAchievements() {
            if (gameState.score >= 5 && !gameState.achievements.fiveHoney) {
                gameState.achievements.fiveHoney = true;
                document.getElementById('ach-5').classList.remove('hidden');
                gameMessage.textContent = "Achievement unlocked: 5 Honey Pots!";
            }
            
            if (gameState.score >= 10 && !gameState.achievements.tenHoney) {
                gameState.achievements.tenHoney = true;
                document.getElementById('ach-10').classList.remove('hidden');
                gameMessage.textContent = "Achievement unlocked: 10 Honey Pots!";
            }
            
            if (gameState.score >= 20 && !gameState.achievements.twentyHoney) {
                gameState.achievements.twentyHoney = true;
                document.getElementById('ach-20').classList.remove('hidden');
            }
        }

        function gameOver() {
            clearInterval(gameInterval);
            gameState.isRunning = false;
            gameMessage.textContent = "Game Over! Pooh got stung too many times!";
            startGameBtn.disabled = false;
            pauseGameBtn.disabled = true;
        }

        function winGame() {
            clearInterval(gameInterval);
            gameState.isRunning = false;
            gameMessage.textContent = "Congratulations! You collected 20 honey pots! Pooh is very happy!";
            startGameBtn.disabled = false;
            pauseGameBtn.disabled = true;
        }

        init();
    });
</script>

</body>
</html>
